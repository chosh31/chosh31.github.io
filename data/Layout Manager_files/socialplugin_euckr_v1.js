if(typeof console=="undefined"||typeof console.log=="undefined"){var console={log:function(){}}}me2p_config_isMobile=true;if(typeof me2p=="undefined"){me2p={}}if(typeof me2p_config_charset=="undefined"){me2p_config_charset="euc-kr"}if(typeof me2p_config_isMobile=="undefined"){me2p_config_isMobile=false}if(typeof me2p_config_autoRender=="undefined"){me2p_config_autoRender=false}if(typeof me2p_config_loginProxyDomain=="undefined"){me2p_config_loginProxyDomain="plugin.me2day.net"}if(typeof me2p_config_debug=="undefined"){me2p_config_debug=false}me2p.ElementClassNames={BUTTON_CONTAINER:"me2button_container",BUTTON:"me2button_button",COUNT_BUBBLE:"me2button_count_bubble",COUNT:"me2button_count",DIALOG:"me2button_layer",DIALOG_MESSAGE:"me2button_layer_message",DIALOG_SIGNIN:"me2button_layer_signin",DIALOG_CLOSE:"me2button_layer_close",DIALOG_WRITE_FORM:"me2button_post_write_form",DIALOG_PROFILE_IMG:"me2button_profile_img",DIALOG_WRITE_INPUT:"me2button_write_input",DIALOG_PINGBACK_CHECKBOX:"me2button_pingback_checkbox",DIALOG_TEXT_LENGTH:"me2button_text_length",DIALOG_SUBMIT_BUTTON:"me2button_submit_button",LAYER_INFO_LINK:"me2button_layer_info_link"};me2p.AttributeNames={URL:"href",PLUGIN_KEY:"plugin_key",BEFORE_METOO_CLASS:"before_metoo_class",LOADING_METOO_CLASS:"loading_metoo_class",AFTER_METOO_CLASS:"after_metoo_class",DIALOG_ICON_CLASS_SUCCESS:"success_icon_class",DIALOG_ICON_CLASS_ERROR:"error_icon_class"};if(!window.console){window.console={};console.log=function(){};console.warn=function(){};console.error=function(){}}me2p.log=function(b){if(me2p_config_debug){console.log(b)}};(function(){var H=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,M="sizcache"+(Math.random()+"").replace(".",""),G=0,D=Object.prototype.toString,N=false,O=true,E=/\\/g,A=/\r\n/g,y=/\W/;[0,0].sort(function(){O=false;return 0});var Q=function(c,j,u,t){u=u||[];j=j||document;var r=j;if(j.nodeType!==1&&j.nodeType!==9){return[]}if(!c||typeof c!=="string"){return u}var n,p,g,o,q,l,m,v,d=true,f=Q.isXML(j),b=[],s=c;do{H.exec("");n=H.exec(s);if(n){s=n[3];b.push(n[1]);if(n[2]){o=n[3];break}}}while(n);if(b.length>1&&L.exec(c)){if(b.length===2&&K.relative[b[0]]){p=C(b[0]+b[1],j,t)}else{p=K.relative[b[0]]?[j]:Q(b.shift(),j);while(b.length){c=b.shift();if(K.relative[c]){c+=b.shift()}p=C(c,p,t)}}}else{if(!t&&b.length>1&&j.nodeType===9&&!f&&K.match.ID.test(b[0])&&!K.match.ID.test(b[b.length-1])){q=Q.find(b.shift(),j,f);j=q.expr?Q.filter(q.expr,q.set)[0]:q.set[0]}if(j){q=t?{expr:b.pop(),set:J(t)}:Q.find(b.pop(),b.length===1&&(b[0]==="~"||b[0]==="+")&&j.parentNode?j.parentNode:j,f);p=q.expr?Q.filter(q.expr,q.set):q.set;if(b.length>0){g=J(p)}else{d=false}while(b.length){l=b.pop();m=l;if(!K.relative[l]){l=""}else{m=b.pop()}if(m==null){m=j}K.relative[l](g,m,f)}}else{g=b=[]}}if(!g){g=p}if(!g){Q.error(l||c)}if(D.call(g)==="[object Array]"){if(!d){u.push.apply(u,g)}else{if(j&&j.nodeType===1){for(v=0;g[v]!=null;v++){if(g[v]&&(g[v]===true||g[v].nodeType===1&&Q.contains(j,g[v]))){u.push(p[v])}}}else{for(v=0;g[v]!=null;v++){if(g[v]&&g[v].nodeType===1){u.push(p[v])}}}}}else{J(g,u)}if(o){Q(o,r,u,t);Q.uniqueSort(u)}return u};Q.uniqueSort=function(c){if(F){N=O;c.sort(F);if(N){for(var b=1;b<c.length;b++){if(c[b]===c[b-1]){c.splice(b--,1)}}}}return c};Q.matches=function(b,c){return Q(b,null,null,c)};Q.matchesSelector=function(b,c){return Q(c,null,null,[b]).length>0};Q.find=function(n,g,m){var b,j,d,f,c,l;if(!n){return[]}for(j=0,d=K.order.length;j<d;j++){c=K.order[j];if((f=K.leftMatch[c].exec(n))){l=f[1];f.splice(1,1);if(l.substr(l.length-1)!=="\\"){f[1]=(f[1]||"").replace(E,"");b=K.find[c](f,g,m);if(b!=null){n=n.replace(K.match[c],"");break}}}}if(!b){b=typeof g.getElementsByTagName!=="undefined"?g.getElementsByTagName("*"):[]}return{set:b,expr:n}};Q.filter=function(r,s,n,d){var b,j,t,g,p,o,f,c,q,m=r,l=[],u=s,v=s&&s[0]&&Q.isXML(s[0]);while(r&&s.length){for(t in K.filter){if((b=K.leftMatch[t].exec(r))!=null&&b[2]){o=K.filter[t];f=b[1];j=false;b.splice(1,1);if(f.substr(f.length-1)==="\\"){continue}if(u===l){l=[]}if(K.preFilter[t]){b=K.preFilter[t](b,u,n,l,d,v);if(!b){j=g=true}else{if(b===true){continue}}}if(b){for(c=0;(p=u[c])!=null;c++){if(p){g=o(p,b,c,u);q=d^g;if(n&&g!=null){if(q){j=true}else{u[c]=false}}else{if(q){l.push(p);j=true}}}}}if(g!==undefined){if(!n){u=l}r=r.replace(K.match[t],"");if(!j){return[]}break}}}if(r===m){if(j==null){Q.error(r)}else{break}}m=r}return u};Q.error=function(b){throw new Error("Syntax error, unrecognized expression: "+b)};var S=Q.getText=function(g){var d,b,c=g.nodeType,f="";if(c){if(c===1||c===9){if(typeof g.textContent==="string"){return g.textContent}else{if(typeof g.innerText==="string"){return g.innerText.replace(A,"")}else{for(g=g.firstChild;g;g=g.nextSibling){f+=S(g)}}}}else{if(c===3||c===4){return g.nodeValue}}}else{for(d=0;(b=g[d]);d++){if(b.nodeType!==8){f+=S(b)}}}return f};var K=Q.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(b){return b.getAttribute("href")},type:function(b){return b.getAttribute("type")}},relative:{"+":function(f,m){var b=typeof m==="string",j=b&&!y.test(m),c=b&&!j;if(j){m=m.toLowerCase()}for(var g=0,d=f.length,l;g<d;g++){if((l=f[g])){while((l=l.previousSibling)&&l.nodeType!==1){}f[g]=c||l&&l.nodeName.toLowerCase()===m?l||false:l===m}}if(c){Q.filter(m,f,true)}},">":function(d,l){var g,j=typeof l==="string",f=0,c=d.length;if(j&&!y.test(l)){l=l.toLowerCase();for(;f<c;f++){g=d[f];if(g){var b=g.parentNode;d[f]=b.nodeName.toLowerCase()===l?b:false}}}else{for(;f<c;f++){g=d[f];if(g){d[f]=j?g.parentNode:g.parentNode===l}}if(j){Q.filter(l,d,true)}}},"":function(b,j,f){var g,d=G++,c=B;if(typeof j==="string"&&!y.test(j)){j=j.toLowerCase();g=j;c=T}c("parentNode",j,d,b,g,f)},"~":function(b,j,f){var g,d=G++,c=B;if(typeof j==="string"&&!y.test(j)){j=j.toLowerCase();g=j;c=T}c("previousSibling",j,d,b,g,f)}},find:{ID:function(f,d,b){if(typeof d.getElementById!=="undefined"&&!b){var c=d.getElementById(f[1]);return c&&c.parentNode?[c]:[]}},NAME:function(f,d){if(typeof d.getElementsByName!=="undefined"){var j=[],g=d.getElementsByName(f[1]);for(var b=0,c=g.length;b<c;b++){if(g[b].getAttribute("name")===f[1]){j.push(g[b])}}return j.length===0?null:j}},TAG:function(b,c){if(typeof c.getElementsByTagName!=="undefined"){return c.getElementsByTagName(b[1])}}},preFilter:{CLASS:function(b,m,j,f,d,c){b=" "+b[1].replace(E,"")+" ";if(c){return b}for(var l=0,g;(g=m[l])!=null;l++){if(g){if(d^(g.className&&(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(b)>=0)){if(!j){f.push(g)}}else{if(j){m[l]=false}}}}return false},ID:function(b){return b[1].replace(E,"")},TAG:function(c,b){return c[1].replace(E,"").toLowerCase()},CHILD:function(b){if(b[1]==="nth"){if(!b[2]){Q.error(b[0])}b[2]=b[2].replace(/^\+|\s*/g,"");var c=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(b[2]==="even"&&"2n"||b[2]==="odd"&&"2n+1"||!/\D/.test(b[2])&&"0n+"+b[2]||b[2]);b[2]=(c[1]+(c[2]||1))-0;b[3]=c[3]-0}else{if(b[2]){Q.error(b[0])}}b[0]=G++;return b},ATTR:function(l,j,g,d,f,c){var b=l[1]=l[1].replace(E,"");if(!c&&K.attrMap[b]){l[1]=K.attrMap[b]}l[4]=(l[4]||l[5]||"").replace(E,"");if(l[2]==="~="){l[4]=" "+l[4]+" "}return l},PSEUDO:function(j,g,f,c,d){if(j[1]==="not"){if((H.exec(j[3])||"").length>1||/^\w/.test(j[3])){j[3]=Q(j[3],null,null,g)}else{var b=Q.filter(j[3],g,f,true^d);if(!f){c.push.apply(c,b)}return false}}else{if(K.match.POS.test(j[0])||K.match.CHILD.test(j[0])){return true}}return j},POS:function(b){b.unshift(true);return b}},filters:{enabled:function(b){return b.disabled===false&&b.type!=="hidden"},disabled:function(b){return b.disabled===true},checked:function(b){return b.checked===true},selected:function(b){if(b.parentNode){b.parentNode.selectedIndex}return b.selected===true},parent:function(b){return !!b.firstChild},empty:function(b){return !b.firstChild},has:function(c,d,b){return !!Q(b[3],c).length},header:function(b){return(/h\d/i).test(b.nodeName)},text:function(c){var b=c.getAttribute("type"),d=c.type;return c.nodeName.toLowerCase()==="input"&&"text"===d&&(b===d||b===null)},radio:function(b){return b.nodeName.toLowerCase()==="input"&&"radio"===b.type},checkbox:function(b){return b.nodeName.toLowerCase()==="input"&&"checkbox"===b.type},file:function(b){return b.nodeName.toLowerCase()==="input"&&"file"===b.type},password:function(b){return b.nodeName.toLowerCase()==="input"&&"password"===b.type},submit:function(c){var b=c.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===c.type},image:function(b){return b.nodeName.toLowerCase()==="input"&&"image"===b.type},reset:function(c){var b=c.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===c.type},button:function(c){var b=c.nodeName.toLowerCase();return b==="input"&&"button"===c.type||b==="button"},input:function(b){return(/input|select|textarea|button/i).test(b.nodeName)},focus:function(b){return b===b.ownerDocument.activeElement}},setFilters:{first:function(c,b){return b===0},last:function(d,f,c,b){return f===b.length-1},even:function(c,b){return b%2===0},odd:function(c,b){return b%2===1},lt:function(c,d,b){return d<b[3]-0},gt:function(c,d,b){return d>b[3]-0},nth:function(c,d,b){return b[3]-0===d},eq:function(c,d,b){return b[3]-0===d}},filter:{PSEUDO:function(j,n,b,m){var g=n[1],l=K.filters[g];if(l){return l(j,b,n,m)}else{if(g==="contains"){return(j.textContent||j.innerText||S([j])||"").indexOf(n[3])>=0}else{if(g==="not"){var f=n[3];for(var c=0,d=f.length;c<d;c++){if(f[c]===j){return false}}return true}else{Q.error(g)}}}},CHILD:function(j,d){var f,m,b,n,g,c,o,p=d[1],l=j;switch(p){case"only":case"first":while((l=l.previousSibling)){if(l.nodeType===1){return false}}if(p==="first"){return true}l=j;case"last":while((l=l.nextSibling)){if(l.nodeType===1){return false}}return true;case"nth":f=d[2];m=d[3];if(f===1&&m===0){return true}b=d[0];n=j.parentNode;if(n&&(n[M]!==b||!j.nodeIndex)){c=0;for(l=n.firstChild;l;l=l.nextSibling){if(l.nodeType===1){l.nodeIndex=++c}}n[M]=b}o=j.nodeIndex-m;if(f===0){return o===0}else{return(o%f===0&&o/f>=0)}}},ID:function(c,b){return c.nodeType===1&&c.getAttribute("id")===b},TAG:function(c,b){return(b==="*"&&c.nodeType===1)||!!c.nodeName&&c.nodeName.toLowerCase()===b},CLASS:function(c,b){return(" "+(c.className||c.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(g,b){var f=b[1],d=Q.attr?Q.attr(g,f):K.attrHandle[f]?K.attrHandle[f](g):g[f]!=null?g[f]:g.getAttribute(f),c=d+"",l=b[2],j=b[4];return d==null?l==="!=":!l&&Q.attr?d!=null:l==="="?c===j:l==="*="?c.indexOf(j)>=0:l==="~="?(" "+c+" ").indexOf(j)>=0:!j?c&&d!==false:l==="!="?c!==j:l==="^="?c.indexOf(j)===0:l==="$="?c.substr(c.length-j.length)===j:l==="|="?c===j||c.substr(0,j.length+1)===j+"-":false},POS:function(j,g,f,d){var c=g[2],b=K.setFilters[c];if(b){return b(j,f,g,d)}}}};var L=K.match.POS,R=function(c,b){return"\\"+(b-0+1)};for(var P in K.match){K.match[P]=new RegExp(K.match[P].source+(/(?![^\[]*\])(?![^\(]*\))/.source));K.leftMatch[P]=new RegExp(/(^(?:.|\r|\n)*?)/.source+K.match[P].source.replace(/\\(\d+)/g,R))}var J=function(c,b){c=Array.prototype.slice.call(c,0);if(b){b.push.apply(b,c);return b}return c};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(z){J=function(g,b){var d=0,f=b||[];if(D.call(g)==="[object Array]"){Array.prototype.push.apply(f,g)}else{if(typeof g.length==="number"){for(var c=g.length;d<c;d++){f.push(g[d])}}else{for(;g[d];d++){f.push(g[d])}}}return f}}var F,I;if(document.documentElement.compareDocumentPosition){F=function(c,b){if(c===b){N=true;return 0}if(!c.compareDocumentPosition||!b.compareDocumentPosition){return c.compareDocumentPosition?-1:1}return c.compareDocumentPosition(b)&4?-1:1}}else{F=function(n,o){if(n===o){N=true;return 0}else{if(n.sourceIndex&&o.sourceIndex){return n.sourceIndex-o.sourceIndex}}var c,l,j=[],g=[],d=n.parentNode,b=o.parentNode,m=d;if(d===b){return I(n,o)}else{if(!d){return -1}else{if(!b){return 1}}}while(m){j.unshift(m);m=m.parentNode}m=b;while(m){g.unshift(m);m=m.parentNode}c=j.length;l=g.length;for(var f=0;f<c&&f<l;f++){if(j[f]!==g[f]){return I(j[f],g[f])}}return f===c?I(n,g[f],-1):I(j[f],o,1)};I=function(f,c,d){if(f===c){return d}var b=f.nextSibling;while(b){if(b===c){return -1}b=b.nextSibling}return 1}}(function(){var d=document.createElement("div"),c="script"+(new Date()).getTime(),b=document.documentElement;d.innerHTML="<a name='"+c+"'/>";b.insertBefore(d,b.firstChild);if(document.getElementById(c)){K.find.ID=function(l,j,g){if(typeof j.getElementById!=="undefined"&&!g){var f=j.getElementById(l[1]);return f?f.id===l[1]||typeof f.getAttributeNode!=="undefined"&&f.getAttributeNode("id").nodeValue===l[1]?[f]:undefined:[]}};K.filter.ID=function(g,f){var j=typeof g.getAttributeNode!=="undefined"&&g.getAttributeNode("id");return g.nodeType===1&&j&&j.nodeValue===f}}b.removeChild(d);b=d=null})();(function(){var b=document.createElement("div");b.appendChild(document.createComment(""));if(b.getElementsByTagName("*").length>0){K.find.TAG=function(j,f){var g=f.getElementsByTagName(j[1]);if(j[1]==="*"){var c=[];for(var d=0;g[d];d++){if(g[d].nodeType===1){c.push(g[d])}}g=c}return g}}b.innerHTML="<a href='#'></a>";if(b.firstChild&&typeof b.firstChild.getAttribute!=="undefined"&&b.firstChild.getAttribute("href")!=="#"){K.attrHandle.href=function(c){return c.getAttribute("href",2)}}b=null})();if(document.querySelectorAll){(function(){var c=Q,b=document.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0){return}Q=function(o,j,t,p){j=j||document;if(!p&&!Q.isXML(j)){var q=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(o);if(q&&(j.nodeType===1||j.nodeType===9)){if(q[1]){return J(j.getElementsByTagName(o),t)}else{if(q[2]&&K.find.CLASS&&j.getElementsByClassName){return J(j.getElementsByClassName(q[2]),t)}}}if(j.nodeType===9){if(o==="body"&&j.body){return J([j.body],t)}else{if(q&&q[3]){var u=j.getElementById(q[3]);if(u&&u.parentNode){if(u.id===q[3]){return J([u],t)}}else{return J([],t)}}}try{return J(j.querySelectorAll(o),t)}catch(s){}}else{if(j.nodeType===1&&j.nodeName.toLowerCase()!=="object"){var g=j,v=j.getAttribute("id"),l=v||d,m=j.parentNode,n=/^\s*[+~]/.test(o);if(!v){j.setAttribute("id",l)}else{l=l.replace(/'/g,"\\$&")}if(n&&m){j=j.parentNode}try{if(!n||m){return J(j.querySelectorAll("[id='"+l+"'] "+o),t)}}catch(r){}finally{if(!v){g.removeAttribute("id")}}}}}return c(o,j,t,p)};for(var f in c){Q[f]=c[f]}b=null})()}(function(){var c=document.documentElement,d=c.matchesSelector||c.mozMatchesSelector||c.webkitMatchesSelector||c.msMatchesSelector;if(d){var g=!d.call(document.createElement("div"),"div"),f=false;try{d.call(document.documentElement,"[test!='']:sizzle")}catch(b){f=true}Q.matchesSelector=function(m,j){j=j.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!Q.isXML(m)){try{if(f||!K.match.PSEUDO.test(j)&&!/!=/.test(j)){var n=d.call(m,j);if(n||!g||m.document&&m.document.nodeType!==11){return n}}}catch(l){}}return Q(j,null,null,[m]).length>0}}})();(function(){var b=document.createElement("div");b.innerHTML="<div class='test e'></div><div class='test'></div>";if(!b.getElementsByClassName||b.getElementsByClassName("e").length===0){return}b.lastChild.className="e";if(b.getElementsByClassName("e").length===1){return}K.order.splice(1,0,"CLASS");K.find.CLASS=function(f,d,c){if(typeof d.getElementsByClassName!=="undefined"&&!c){return d.getElementsByClassName(f[1])}};b=null})();function T(l,b,c,m,o,n){for(var f=0,j=m.length;f<j;f++){var g=m[f];if(g){var d=false;g=g[l];while(g){if(g[M]===c){d=m[g.sizset];break}if(g.nodeType===1&&!n){g[M]=c;g.sizset=f}if(g.nodeName.toLowerCase()===b){d=g;break}g=g[l]}m[f]=d}}}function B(l,b,c,m,o,n){for(var f=0,j=m.length;f<j;f++){var g=m[f];if(g){var d=false;g=g[l];while(g){if(g[M]===c){d=m[g.sizset];break}if(g.nodeType===1){if(!n){g[M]=c;g.sizset=f}if(typeof b!=="string"){if(g===b){d=true;break}}else{if(Q.filter(b,[g]).length>0){d=g;break}}}g=g[l]}m[f]=d}}}if(document.documentElement.contains){Q.contains=function(c,b){return c!==b&&(c.contains?c.contains(b):true)}}else{if(document.documentElement.compareDocumentPosition){Q.contains=function(c,b){return !!(c.compareDocumentPosition(b)&16)}}else{Q.contains=function(){return false}}}Q.isXML=function(b){var c=(b?b.ownerDocument||b:0).documentElement;return c?c.nodeName!=="HTML":false};var C=function(j,g,b){var c,n=[],d="",m=g.nodeType?[g]:g;while((c=K.match.PSEUDO.exec(j))){d+=c[0];j=j.replace(K.match.PSEUDO,"")}j=K.relative[j]?j+"*":j;for(var f=0,l=m.length;f<l;f++){Q(j,m[f],n,b)}return Q.filter(d,n)};window.me2p.Sizzle=Q})();me2p.Button=function(c,d){this.isOnLoaded=false;this.isMetooRequesting=false;this._value=c;this.$value=function(){return this._value};this.url=d;this.pluginKey=null;this.elements={};this.elements.button=null;this.elements.countContainer=null;this.elements.count=null;this.elements.dialog=null;this.dialog=null;this.loginHelper=null;this.isPostExist=false;this.$init=function(){this.pluginKey=this.$value().getAttribute(me2p.AttributeNames.PLUGIN_KEY);this.elements.button=me2p.Sizzle("."+me2p.ElementClassNames.BUTTON,this.$value())[0];this.elements.countContainer=me2p.Sizzle("."+me2p.ElementClassNames.COUNT_BUBBLE,this.$value())[0];this.elements.count=me2p.Sizzle("."+me2p.ElementClassNames.COUNT,this.$value())[0];this.elements.dialog=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG,this.$value())[0];this.dialog=new me2p.Dialog(this);this.onClickAction=me2p.Util.fn(function(b){var f=me2p.Service.getWebPageInfo();if(me2p.Service.errorResponse&&me2p.Service.errorResponse.code){this.showError(me2p.Service.errorResponse)}else{this.metoo()}if(!b){return false}if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}return false},this).bind();this.elements.button.onclick=me2p.Util.fn(function(b){if(!me2p.Main.isWebPageInfoRequested){me2p.updateElementsForCallback(this.onClickAction)}else{this.onClickAction()}},this).bind()};this.metoo=function(){var n=me2p.Service.getWebPageInfo();this.isPostExist=n.postInfoMap[this.url];if(this.isMetooRequesting||this.dialog.isOpen()){return false}if(me2p.Service.isLoggedIn()){this.onBeforeMetoo();this.isMetooRequesting=true;this.showLoadingImage();var b={url:this.url,security_token:n.securityToken[this.url]};if(this.pluginKey){b.plugin_key=this.pluginKey}try{if(!n.postInfoMap[this.url].postId){b.title=me2p.Main.title}}catch(m){}var j=me2p.Util.fn(function(f){var g=f;if(g.code=="0"){if(g.result.postInfo&&g.result.postInfo.postId){me2p.Service.updatePostInfo(g.result.postInfo);me2p.MetooHandler.updateAll()}this.onAfterMetoo()}else{if(g.code=="1002"){if(me2p_config_isMobile){me2p.Service.requestWebPageInfo(me2p.Service.webPageInfoParams,me2p.Util.fn(this.login,this).bind())}else{this.login()}this.hideLoadingImage();this.isMetooRequesting=false;return}for(var o in g){me2p.log(o+"="+g[o])}}this.hideLoadingImage();this.showDialog(g);this.isMetooRequesting=false},this).bind();var l=me2p.Util.fn(function(){this.hideLoadingImage();this.isMetooRequesting=false;this.showError()},this).bind();me2p.Service.requestMetoo(b,j,l)}else{this.login()}};this.login=function(){this.loginHelper=(!this.loginHelper)?new me2p.LoginHelper():this.loginHelper;if(me2p_config_isMobile){var g="";var b="";var f=me2p.Service.getWebPageInfo();if(f.securityToken){g=f.securityToken[this.url]||""}b=f.timestamp||"";this.loginHelper.gotoLoginPage({url:this.url,plugin_key:this.pluginKey,redirect_url:location.href,security_token:g,timestamp:b})}else{this.loginHelper.openLoginWindow({pluginType:"button",url:this.url},me2p.Util.fn(this.metoo,this).bind())}};this.showLoadingImage=function(){me2p.Util.addClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.LOADING_METOO_CLASS))};this.hideLoadingImage=function(){me2p.Util.removeClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.LOADING_METOO_CLASS))};this.showDialog=function(b){this.onBeforeShowLayer();this.dialog.show(b)};this.showError=function(b){if(!b){this.dialog.showDefaultError()}this.dialog.show(b)};this.updateUI=function(b){me2p.Util.addClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.BEFORE_METOO_CLASS));if(!b){b=me2p.Service.getWebPageInfo().postInfoMap[this.url]}if(!b){this.elements.countContainer.style.display="none";return}this._updateCount(b);this._updateMetooStatus(b);if(!this.isOnLoaded){this.isOnLoaded=true;this.onLoad()}};this._updateCount=function(l){var g,b,j;g=l.metooCount;b=l.permalink;if(g>=999500000){j="∞"}else{if(g>=1000000){j=Math.round(parseFloat(g/1000000))+"M"}else{if(g>=10000){j=Math.round(parseFloat(g/1000))+"K"}else{if(g>0){j=me2p.Util.numberWithDelimiter(g)}else{j=0}}}}if(g>0){this.elements.countContainer.style.display="";this.elements.count.innerHTML=me2p.Util.numberWithDelimiter(g)}if(b){this.elements.count.setAttribute("target","_blank");this.elements.count.setAttribute("href",b)}};this._updateMetooStatus=function(f){var b=f.metooStatus;if(b=="0"||b=="1"){this._setMetooed()}};this._setMetooed=function(){me2p.Util.removeClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.BEFORE_METOO_CLASS));me2p.Util.addClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.AFTER_METOO_CLASS))};this.onLoad=me2p.Util.EmptyFunction;this.onBeforeMetoo=me2p.Util.EmptyFunction;this.onAfterMetoo=me2p.Util.EmptyFunction;this.onBeforeShowLayer=me2p.Util.EmptyFunction;this.onShowLayer=me2p.Util.EmptyFunction;this.onCloseLayer=me2p.Util.EmptyFunction;this.closeLayer=function(){this.dialog.close()};this.registerEvent=function(b,f){this[b]=f};this.$init()};me2p.MetooHandler={buttonList:[],buttonMap:{},pluginKey:null,urls:[],reset:function(){this.buttonList=[];this.buttonMap={};this.pluginKey=null;this.urls=[]},register:function(j,l,g){if(typeof g=="undefined"){g=0}if(!this.buttonMap[l]||!this.buttonMap[l][g]){var f=new me2p.Button(j,l);this.buttonList.push(f);if(!this.buttonMap[l]){this.buttonMap[l]=[]}this.buttonMap[l][g]=f;this.urls.push(l)}else{me2p.log("['"+l+"']["+g+"] has already been registered.")}if(this.buttonMap[l][g]){if(!this.pluginKey){this.pluginKey=this.buttonMap[l][g].pluginKey}}},updateAll:function(){for(var c=0,d=this.buttonList.length;c<d;c++){if(this.buttonList[c]){this.buttonList[c].updateUI()}}},get:function(b){return new this.ButtonHandler(this.buttonMap[b])},getAll:function(){return new this.ButtonHandler(me2p.MetooHandler.buttonList)},ButtonHandler:function(b){this.list=b;this.registerEvent=function(g,j){if(this.list){for(var l=0,f=this.list.length;l<f;l++){if(this.list[l]){this.list[l].registerEvent(g,j)}}}else{console.log("Button Object does not exist.")}},this.closeLayer=function(){for(var f=0,d=this.list.length;f<d;f++){if(this.list[f]){this.list[f].closeLayer()}}}}};me2p.MessageText={"016":"미투데이 플러그인이 정상적으로 작동되고 있지 않습니다.","8000":"내 미투데이 생성에 실패했습니다. 단체회원인 경우 미투데이 생성을 하실 수 없습니다."};me2p.MessageTemplate={M004:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>에 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M004_1:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>에 이미 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M009:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>가 생성되었습니다.</strong>',M009_1:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>가 이미 생성되었습니다.</strong>',M010:'<a href="http://me2day.net/front/rules" target="_blank">미투데이 운영원칙</a>에 따라 활동 제한 조치중입니다.<br>활동 제한 기간 중에는 해당 활동이 제한됩니다.',M011:'<a href="http://me2day.net/{=ownerUserId}" target="_blank">{=ownerNickname}</a>님이 <a href="http://me2day.net/{=loginUserId}" target="_blank">{=loginNickname}</a>님을 차단했습니다.',M012:'<a href="http://me2day.net/{=ownerUserId}" target="_blank">{=ownerNickname}</a>님은 프로필사진, 휴대폰번호, 한줄소개 등이 등록되어 있지 않은 회원으로부터는 댓글을 받지 않습니다. <a class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'" href="http://me2day.net/{=loginUserId}/setting?open_profile=true" target="_blank">프로필 업데이트 하러 가기</a>',M013:'<strong>미투데이 서비스가 점검 중입니다.</strong>점검시간 동안은 기능 이용이 제한됩니다. <a href="http://me2day.net/me2/blog" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">미투데이 공지 보기</a>',M014:"<strong>일시적인 오류가 발생했습니다.</strong>이용에 불편을 드린 점 진심으로 사과드립니다.",M016:"<strong>"+me2p.MessageText["016"]+"</strong>",M019:"<strong>잘못된 요청입니다.</strong> {=message}",M020:"<strong>일시중지 중에는 이용하실 수 없는 기능입니다.</strong>",M021:'나의 미투데이 (<a href="http://me2day.net/{=createdId}" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">http://me2day.net/{=createdId}</a>)의 <br /> <a href="http://me2day.net/{=createdId}/metoo" target="_blank" class="me2_post">미투한글</a>에서 확인할 수 있습니다.',M8000:"<strong>"+me2p.MessageText["8000"]+"</strong>"};me2p.MessageTemplate2={M004:'<strong><a href="{=permalink}" target="_blank">포스트</a>에 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M004_1:'<strong><a href="{=permalink}" target="_blank">포스트</a>에 이미 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M009:"<strong>생성되었습니다.</strong>",M009_1:"<strong>이미 생성되었습니다.</strong>",M010:'<a href="http://me2day.net/front/rules" target="_blank">미투데이 운영원칙</a>에 따라 활동 제한 조치중입니다.<br>활동 제한 기간 중에는 해당 활동이 제한됩니다.',M011:"차단되었기 때문에 미투를 할 수가 없습니다.",M012:'프로필사진, 휴대폰번호, 한줄소개 등이 등록되어 있지 않은 회원으로부터는 댓글을 받지 않습니다. <a class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'" href="http://me2day.net/{=loginUserId}/setting?open_profile=true" target="_blank">프로필 업데이트 하러 가기</a>',M013:'<strong>미투데이 서비스가 점검 중입니다.</strong>점검시간 동안은 기능 이용이 제한됩니다. <a href="http://me2day.net/me2/blog" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">미투데이 공지 보기</a>',M014:"<strong>일시적인 오류가 발생했습니다.</strong>이용에 불편을 드린 점 진심으로 사과드립니다.",M016:"<strong>"+me2p.MessageText["016"]+"</strong>",M019:"<strong>잘못된 요청입니다.</strong> {=message}",M020:"<strong>일시중지 중에는 이용하실 수 없는 기능입니다.</strong>",M021:'나의 미투데이 (<a href="http://me2day.net/{=createdId}" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">http://me2day.net/{=createdId}</a>)의 <br /> <a href="http://me2day.net/{=createdId}/metoo" target="_blank" class="me2_post">미투한글</a>에서 확인할 수 있습니다.',M8000:"<strong>"+me2p.MessageText["8000"]+"</strong>"};me2p.MessageTemplate_DA={M004:"미투했습니다.",M004_1:"이미 미투했습니다.",M009:"생성되었습니다.",M009_1:"이미 생성되었습니다.",M010:"활동 제한 조치중입니다.",M011:"차단되어 미투를 할 수 없습니다.",M012:"",M013:"미투데이 서비스가 점검 중입니다.",M014:"일시적인 오류가 발생했습니다.",M016:'플러그인이 정상적으로 작동되 않습니다."',M019:"잘못된 요청입니다.",M020:"일시중지 중에는 이용하실 수 없는 기능입니다.",M021:"",M8000:"단체회원인 경우 미투데이 생성을 하실 수 없습니다."};me2p.Dialog=function(b){this._isOpen=false;this.button=b;this.$value=function(){return this.button.elements.dialog};this.elements={};this.elements.signin=null;this.elements.message=null;this.elements.closeBt=null;this.elements.postBox=null;this.postBox=null;this.attr={};this.attr.successIconClass="";this.attr.errorIconClass="";this.isCommentWritable=function(c){if(c){if(c.code=="0"||c.code=="1"||c.code=="2"||c.code=="3"){return true}return false}return false};this.$init=function(){this.elements.message=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_MESSAGE,this.$value())[0];this.elements.signin=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_SIGNIN,this.$value())[0];this.elements.closeBt=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_CLOSE,this.$value())[0];this.elements.postBox=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_WRITE_FORM,this.$value())[0];this.attr.successIconClass=this.$value().getAttribute(me2p.AttributeNames.DIALOG_ICON_CLASS_SUCCESS);this.attr.errorIconClass=this.$value().getAttribute(me2p.AttributeNames.DIALOG_ICON_CLASS_ERROR);this.elements.closeBt.onclick=me2p.Util.fn(function(){this.close()},this).bind()};this.isOpen=function(){return this._isOpen};this.show=function(g){if(!g){this.showDefaultError();return}this._setIcon(g.code);var j=this._getMessageMarkup(g);this.updateMessage(j);var m=me2p.Service.getWebPageInfo();var l=m.loginUser.createdId;if(l){var n=this._getSigninMarkup(l);this._updateHTML(this.elements.signin,n);this.elements.signin.style.display="";m.loginUser.createdId=null}else{this.elements.signin.style.display="none"}this.$value().style.display="";if(this.isCommentWritable(g)){if(this.elements.postBox){this.postBox=(this.postBox?this.postBox:new me2p.PostBox(this));this.postBox.show()}}this.button.onShowLayer(this.$value());this._isOpen=true};this.updateMessage=function(c){this._updateHTML(this.elements.message,c)};this.close=function(){this.button.onCloseLayer();this.$value().style.display="none";this._isOpen=false};this.showDefaultError=function(){alert(me2p.MessageText["016"])};this._updateHTML=function(d,f){d.innerHTML=f};this._isCommentWritable=function(c){if(c=="0"||c=="1"||c=="2"||c=="3"){return true}else{return false}};this._setIcon=function(d){var f=this.elements.message;if(this._isCommentWritable(d)){me2p.Util.removeClass(f,this.attr.errorIconClass);me2p.Util.addClass(f,this.attr.successIconClass)}else{me2p.Util.removeClass(f,this.attr.successIconClass);me2p.Util.addClass(f,this.attr.errorIconClass)}};this._getSigninMarkup=function(g){var f=me2p.Util.Template(me2p.MessageTemplate.M021);var j=f.process({createdId:g});return j||""};this._getMessageMarkup=function(o){if(!o){return}var m,j;var l="";var n=me2p.Service.getWebPageInfo();var p=(o.result&&o.result.postInfo)?o.result.postInfo:null;switch(o.code){case"0":if(p){if(p.metooStatus=="0"){j="M004"}else{if(p.metooStatus=="1"){j="M004_1"}else{if(p.metooStatus=="2"){j="M009"}else{if(p.metooStatus=="3"){if(this.button.isPostExist){j="M009_1"}else{j="M009"}}else{j="M016"}}}}if(n.ownerUser){m=me2p.Util.Template(me2p.MessageTemplate[j]);l=m.process({nickname:n.ownerUser.nickname,userId:n.ownerUser.userId,permalink:o.result.postInfo.permalink,loginUserId:n.loginUser.userId})}else{m=me2p.Util.Template(me2p.MessageTemplate2[j]);l=m.process({permalink:o.result.postInfo.permalink,loginUserId:n.loginUser.userId})}}else{l=o.message}break;case"1004":m=me2p.Util.Template(me2p.MessageTemplate.M019);l=m.process({message:o.message});break;case"1105":m=me2p.Util.Template(me2p.MessageTemplate.M020);l=m.process();break;case"1106":m=me2p.Util.Template(me2p.MessageTemplate.M010);l=m.process();break;case"1107":if(n.ownerUser){m=me2p.Util.Template(me2p.MessageTemplate.M011);l=m.process({ownerNickname:n.ownerUser.nickname,ownerUserId:n.ownerUser.userId,loginNickname:n.loginUser.nickname,loginUserId:n.loginUser.userId})}else{m=me2p.Util.Template(me2p.MessageTemplate2.M011);l=m.process()}break;case"1108":if(n.ownerUser){m=me2p.Util.Template(me2p.MessageTemplate.M012);l=m.process({ownerNickname:n.ownerUser.nickname,ownerUserId:n.ownerUser.userId,loginUserId:n.loginUser.userId})}else{m=me2p.Util.Template(me2p.MessageTemplate2.M012);l=m.process()}break;case"3001":l=me2p.Util.Template(me2p.MessageTemplate.M013).process();break;case"1011":case"1201":l=o.message;break;case"1202":case"1203":case"1204":case"1209":l=me2p.Util.Template(me2p.MessageTemplate.M016).process();break;case"8000":l=me2p.Util.Template(me2p.MessageTemplate.M8000).process();break;default:if(o.code>=2000){l=me2p.Util.Template(me2p.MessageTemplate.M014).process()}else{m=me2p.Util.Template(me2p.MessageTemplate.M019);l=m.process({message:o.message})}}return l};this.$init()};me2p.PostBox=function(b){this.dialog=b;this.$value=function(){return this.dialog.elements.postBox};this.elements={};this.elements.profileImage=null;this.elements.writeInput=null;this.elements.pingbackCheckbox=null;this.elements.textLength=null;this.elements.submitButton=null;this.isRequesting=false;this.$init=function(){this.elements.container=this.dialog.elements.postBox;this.elements.profileImage=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_PROFILE_IMG,this.$value())[0];this.elements.profileImage.src=me2p.Service.getWebPageInfo().loginUser.profileImage;this.elements.writeInput=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_WRITE_INPUT,this.$value())[0];this.elements.pingbackCheckbox=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_PINGBACK_CHECKBOX,this.$value())[0];this.elements.textLength=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_TEXT_LENGTH,this.$value())[0];this.elements.submitButton=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_SUBMIT_BUTTON,this.$value())[0];this.elements.submitButton.onclick=me2p.Util.fn(function(c){this.submit();if(!c){return false}if(c.preventDefault){c.preventDefault()}else{c.returnValue=false}return false},this).bind()};this.show=function(){this.elements.container.style.display=""};this.close=function(){this.elements.container.style.display="none"};this.submit=function(){if(this.isRequesting){return false}var s=this.elements.writeInput.value;if(s!=""){this.isRequesting=true;var l=s.replace(/\n/g," ");var q=me2p.Service.APIUrl.comment;var r=this.dialog.button;var p=me2p.Service.getWebPageInfo();var m={body:l,plugin_key:r.pluginKey,pingback:this.elements.pingbackCheckbox.checked,url:r.url,security_token:p.securityToken[r.url]};var n=me2p.Util.fn(function(d){var f=d;if(f.code=="0"){var c=me2p.Service.getWebPageInfo();var j=me2p.Util.Template(me2p.MessageTemplate.M006);var g=j.process({nickname:c.ownerUser.nickname,userId:c.ownerUser.userId,permalink:f.result.postInfo.permalink});this.dialog.updateMessage(g);this.elements.writeInput.value=""}else{this.dialog.updateMessage(f.message)}this.close();this.isRequesting=false},this).bind();var o=me2p.Util.fn(function(){this.isMetooRequesting=false;this.dialog.showDefaultError()},this).bind();me2p.Service.writeComment(m,n,o)}};this.$init()};me2p.Service={APIUrl:{webPageInfo:"http://plugin.me2day.net/v1/plugin/"+(me2p_config_charset=="euc-kr"?"get_webpage_info_euckr.json":"get_webpage_info.json"),metoo:"http://plugin.me2day.net/v1/metoo/"+(me2p_config_charset=="euc-kr"?"metoo_euckr.json":"metoo.json"),comment:"http://plugin.me2day.net/v1/comment/create_comment.json",login:"http://me2day.net/account/login?login_from=plugin",loginProxy:"http://"+me2p_config_loginProxyDomain+"/html/naver/login_proxy.html",loginComplete:"http://"+me2p_config_loginProxyDomain+"/html/naver/login_complete.html"},webPageInfoParams:null,afterGetWebPageInfoAction:{},createdId:null,webPageInfo:{loginUser:{},ownerUser:{},postInfoList:[],securityToken:{},postInfoMap:{}},errorResponse:null,isWpRequesting:false,createdId:null,isLoggedIn:function(){return(this.webPageInfo.loginUser&&this.webPageInfo.loginUser.userId)},getWebPageInfo:function(){return this.webPageInfo},requestWebPageInfo:function(d,g){if(this.isWpRequesting){return false}else{this.isWpRequesting=true}var f=this.APIUrl.webPageInfo;if(d){if(typeof d!="string"){this.webPageInfoParams=me2p.Util.hashToQueryString(hsParams)}else{this.webPageInfoParams=d}}if(f.indexOf("?")!=-1){f+=("&"+this.webPageInfoParams)}else{f+=("?"+this.webPageInfoParams)}if(g){this.afterGetWebPageInfoAction.updateUI=g}me2p.Util.requestJsonp(f,me2p.Util.fn(this._requestWebPageInfoOnSuccess,this).bind())},_requestWebPageInfoOnSuccess:function(p){var q=p;if(q.code=="0"){this.errorResponse=null;this.webPageInfo=q.result;if(!this.isToolbarChecked){this.checkToolbar(q.result)}this.webPageInfo.postInfoMap=this.webPageInfo.postInfoMap||{};if(this.webPageInfo.postInfoList){for(var o=0,l=this.webPageInfo.postInfoList.length;o<l;o++){this.webPageInfo.postInfoMap[this.webPageInfo.postInfoList[o].url]=this.webPageInfo.postInfoList[o]}}if(!this.webPageInfo.loginUser){this.webPageInfo.loginUser={}}if(this.createdId){this.webPageInfo.loginUser.createdId=this.createdId;this.createdId=null}if(this.afterGetWebPageInfoAction){for(var n in this.afterGetWebPageInfoAction){try{this.afterGetWebPageInfoAction[n](q)}catch(m){}}}this.afterGetWebPageInfoAction=[]}else{if(this.afterGetWebPageInfoAction.updateUI){this.afterGetWebPageInfoAction.updateUI()}for(var f in q){me2p.log(f+"="+q[f])}this.errorResponse=q}this.isWpRequesting=false;if(!me2p.Main.isWebPageInfoRequested){me2p.Main.isWebPageInfoRequested=true}},updatePostInfo:function(d){var g=false;for(var f in this.webPageInfo.postInfoList){if(this.webPageInfo.postInfoList[f].url==d.url){this.webPageInfo.postInfoList[f]=d;g=true}}if(!g){this.webPageInfo.postInfoList.push(d)}this.webPageInfo.postInfoMap[d.url]=d},requestMetoo:function(m,j,f){var g=this.APIUrl.metoo;var l="";if(typeof m!="string"){l=me2p.Util.hashToQueryString(m)}else{l=m}if(g.indexOf("?")!=-1){g+=("&"+l)}else{g+=("?"+l)}me2p.Util.requestJsonp(g,j,f)},writeComment:function(m,j,f){var g=this.APIUrl.comment;var l="";if(typeof m!="string"){l=me2p.Util.hashToQueryString(m)}else{l=m}if(g.indexOf("?")!=-1){g+=("&"+l)}else{g+=("?"+l)}me2p.Util.requestJsonp(g,j,f)},isToolbarChecked:false,checkToolbar:function(q){var s=null;function n(b){if(!b){return 0}var d=0;for(var c in b){if((c+"").indexOf("http:")!=-1){d++;s=c}}return d}this.isToolbarChecked=true;if(n(q.securityToken)!=1){return}var l=null;if(q.postInfoList&&q.postInfoList.length>0){l=q.postInfoList[0]}var m=null;try{if(window.ActiveXObject){m=new ActiveXObject("NaverToolbar.Me2API")}}catch(o){}try{if(window.ActiveXObject&&m){var t=q.securityToken[s];var p=l?l.metooCount:0;var r=l?l.metooStatus:9;console.log("NaverToolbar.Me2API > NaverToolbar.UpdateMetooInfo() called. ");console.log("url="+s);console.log("pluginKey="+me2p.MetooHandler.pluginKey);console.log("securityToken="+t);console.log("metooCount="+p);console.log("metooStatus="+r);m.UpdateMetooInfo(s,me2p.MetooHandler.pluginKey,t,p,r)}}catch(o){}}};me2p.Util={EmptyFunction:new Function(),requestJsonp:function(j,m,l){var q=document.head?document.head:document.getElementsByTagName("head")[0];var p=document.createElement("script");var o="me2p_"+new Date().getTime();var n=(typeof l=="function")?setTimeout(l,5000):null;window[o]=function(){if(n){clearInterval(n)}m.apply(null,arguments);window[o]=null;q.removeChild(p)};if(j.indexOf("?")!=-1){j+="&_callback=window."+o}else{j+="?_callback=window."+o}p.src=j;p.charset=me2p_config_charset;q.appendChild(p)},queryStringToHash:function(r){if(r==""){return{}}var n=r.split(/&/g),m,l,s,t={},p=false;for(var q=0;q<n.length;q++){l=n[q].substring(0,m=n[q].indexOf("=")),p=false;try{s=decodeURIComponent(n[q].substring(m+1))}catch(o){p=true;s=decodeURIComponent(unescape(n[q].substring(m+1)))}if(l.substr(l.length-2,2)=="[]"){l=l.substring(0,l.length-2);if(typeof t[l]=="undefined"){t[l]=[]}t[l][t[l].length]=p?escape(s):s}else{t[l]=p?escape(s):s}}return t},hashToQueryString:function(l){var m=[],j=null,g=0;for(var f in l){if(l.hasOwnProperty(f)){if(typeof(j=l[f])=="object"&&(j&&j.constructor==Array)){for(i=0;i<j.length;i++){m[m.length]=encodeURIComponent(f)+"[]="+encodeURIComponent(j[i]+"")}}else{m[m.length]=encodeURIComponent(f)+"="+encodeURIComponent(l[f]+"")}}}return m.join("&")},numberWithDelimiter:function(g,f){g=g+"",f=f||",";var d=g.split(".");d[0]=d[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+f);return d.join(".")},fn:function(func,thisObject){var cl=arguments.callee;if(func instanceof cl){return func}if(!(this instanceof cl)){return new cl(func,thisObject)}this._events=[];this._tmpElm=null;this._key=null;if(typeof func=="function"){this._func=func;this._this=thisObject}else{if(typeof func=="string"&&typeof thisObject=="string"){this._func=eval("false||function("+func+"){"+thisObject+"}")}}},Template:function(j){var l=null,g="";var f=arguments.callee;if(j instanceof f){return j}if(!(this instanceof f)){return new f(j)}if(typeof j=="undefined"){j=""}else{if((l=document.getElementById(j)||j)&&l.tagName&&(g=l.tagName.toUpperCase())&&(g=="TEXTAREA"||(g=="SCRIPT"&&l.getAttribute("type")=="text/template"))){j=(l.value||l.innerHTML).replace(/^\s+|\s+$/g,"")}}this._str=j+""},getUinqId:function(){var d=function(){return"Uniq_"+Math.random().toString().replace(/0\./,"")};var c=d();while(document.getElementById(c)){c=d()}return c},strToJson:function(sObject){try{if(/^(?:\s*)[\{\[]/.test(sObject)){sObject=eval("("+sObject+")")}else{sObject=sObject}}catch(e){sObject={}}return sObject},toJson:function(b){if(!b){return{}}if(typeof b=="string"){return this.strToJson(b)}return b},jsonToString:function(d){var c={$:function(b){if(typeof b=="object"&&b==null){return"null"}if(typeof b=="undefined"){return'""'}if(typeof b=="boolean"){return b?"true":"false"}if(typeof b=="string"){return this.s(b)}if(typeof b=="number"){return b}if(b instanceof Array){return this.a(b)}if(b instanceof Object){return this.o(b)}},s:function(l){var j={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t"};var b=function(f){return(typeof j[f]!="undefined")?j[f]:f};return'"'+l.replace(/[\\"'\n\r\t]/g,b)+'"'},a:function(n){var l="[",b="",j=n.length;for(var m=0;m<j;m++){if(typeof n[m]=="function"){continue}l+=b+this.$(n[m]);if(!b){b=","}}return l+"]"},o:function(j){var l="{",b="";for(var m in j){if(j.hasOwnProperty(m)){if(typeof j[m]=="function"){continue}l+=b+this.s(m)+":"+this.$(j[m]);if(!b){b=","}}}return l+"}"}};if(window.JSON&&window.JSON.stringify){return window.JSON.stringify(d)}else{return c.$(d)}},hasClass:function(d,c){return new RegExp("(\\s|^)"+c+"(\\s|$)").test(d.className)},addClass:function(d,c){if(!this.hasClass(d,c)){d.className+=" "+c}},removeClass:function(d,c){if(this.hasClass(d,c)){d.className=d.className.replace(new RegExp("(\\s|^)"+c+"(\\s|$)")," ").replace(/\s+/g," ").replace(/^\s|\s$/,"")}}};me2p.Util.fn.prototype.bind=function(){var j=arguments;var b=this._func;var f=this._this;var l=function(){var c=arguments;if(j.length){c=j.concat(c)}return b.apply(f,c)};return l};me2p.Util.Template.splitter=/(?!\\)[\{\}]/g;me2p.Util.Template.pattern=/^(?:if (.+)|elseif (.+)|for (?:(.+)\:)?(.+) in (.+)|(else)|\/(if|for)|=(.+)|js (.+)|set (.+))$/;me2p.Util.Template.prototype.process=function(data){if(!data){data={}}var key="\x01";var leftBrace="\x02";var rightBrace="\x03";var tpl=(" "+this._str+" ").replace(/\\{/g,leftBrace).replace(/\\}/g,rightBrace).replace(/(?!\\)\}\{/g,"}"+key+"{").split(me2p.Util.Template.splitter),i=tpl.length;var map={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t","\f":"\\f"};var reg=[/(["'](?:(?:\\.)+|[^\\["']+)*["']|[a-zA-Z_][\w\.]*)/g,/[\n\r\t\f"\\]/g,/^\s+/,/\s+$/,/#/g];var cb=[function(m){return(m.substring(0,1)=='"'||m.substring(0,1)=="'"||m=="null")?m:"d."+m},function(m){return map[m]||m},"",""];var stm=[];var lev=0;tpl[0]=tpl[0].substr(1);tpl[i-1]=tpl[i-1].substr(0,tpl[i-1].length-1);if(i<2){return tpl[0]}tpl=tpl;var delete_info;while(i--){if(i%2){tpl[i]=tpl[i].replace(me2p.Util.Template.pattern,function(){var m=arguments;if(m[10]){return m[10].replace(/(\w+)(?:\s*)=(?:\s*)(?:([a-zA-Z0-9_]+)|(.+))$/g,function(){var mm=arguments;var str="d."+mm[1]+"=";if(mm[2]){str+="d."+mm[2]}else{str+=mm[3].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(m){return(m.substring(0,1)=="=")?"d."+m.replace("=",""):m})}return str})+";"}if(m[9]){return"s[i++]="+m[9].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(m){return(m.substring(0,1)=="=")?"d."+m.replace("=",""):m})+";"}if(m[8]){return"s[i++]= d."+m[8]+";"}if(m[1]){return"if("+m[1].replace(reg[0],cb[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){"}if(m[2]){return"}else if("+m[2].replace(reg[0],cb[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){"}if(m[5]){delete_info=m[4];var _aStr=[];_aStr.push("var t#=d."+m[5]+"||{},p#=isArray(t#),i#=0;");_aStr.push("for(var x# in t#){");_aStr.push("if(!t#.hasOwnProperty(x#)){continue;}");_aStr.push("  if( (p# && isNaN(i#=parseInt(x#,10))) || (!p# && !t#.propertyIsEnumerable(x#)) ) continue;");_aStr.push("  d."+m[4]+"=t#[x#];");_aStr.push(m[3]?"d."+m[3]+"=p#?i#:x#;":"");return _aStr.join("").replace(reg[4],lev++)}if(m[6]){return"}else{"}if(m[7]){if(m[7]=="for"){return"delete d."+delete_info+"; };"}else{return"};"}}return m[0]})}else{if(tpl[i]==key){tpl[i]=""}else{if(tpl[i]){tpl[i]='s[i++]="'+tpl[i].replace(reg[1],cb[1])+'";'}}}}tpl=tpl.join("").replace(new RegExp(leftBrace,"g"),"{").replace(new RegExp(rightBrace,"g"),"}");var _aStr=[];_aStr.push("var s=[],i=0;");_aStr.push('function isArray(o){ return Object.prototype.toString.call(o) == "[object Array]" };');_aStr.push(tpl);_aStr.push('return s.join("");');tpl=eval("false||function(d){"+_aStr.join("")+"}");tpl=tpl(data);return tpl};me2p.LoginHelper=function(){this.messengerFrame=null;this.divContainer=null;this.openLoginWindow=function(l,f){var g=me2p.Service.APIUrl.loginComplete+"?"+me2p.Util.hashToQueryString(l);var j="hide_back_button=true&redirect_url="+encodeURIComponent(g);setTimeout(me2p.Util.fn(function(){me2p.Service.afterGetWebPageInfoAction.onLoginSuccess=f},this).bind(),1000);if(me2p.Messenger.flashConnectId){j+="&fId="+me2p.Messenger.flashConnectId}this.messengerFrame=document.createElement("iframe");this.messengerFrame.src=me2p.Service.APIUrl.loginProxy+"?"+j;this.divContainer=document.createElement("div");this.divContainer.style.position="absolute";this.divContainer.style.top="0px";this.divContainer.style.left="-10000px";this.divContainer.appendChild(this.messengerFrame);document.body.appendChild(this.divContainer)},this.gotoLoginPage=function(d){var g="redirect_url="+encodeURIComponent("http://plugin.me2day.net/mobile/metoo/metoo.nhn?"+me2p.Util.hashToQueryString(d));var f=me2p.Service.APIUrl.login+"&"+g;top.location.href=f}};me2p.options={};me2p.parseElements=function(){me2p.Main.parsePluginElements()};me2p.updateElements=function(){me2p.Main.createParams();me2p.Main.reqWebPageInfoAndUpdateUI();if(!me2p_config_isMobile){me2p.Main.initMessenger()}};me2p.updateElementsForCallback=function(b){me2p.Main.createParams();me2p.Service.afterGetWebPageInfoAction.callback_DA=b;me2p.Service.requestWebPageInfo(me2p.Main.webPageInfoParams,null);if(!me2p_config_isMobile){me2p.Main.initMessenger()}};me2p.setOptions=function(b){var b=(!b)?{}:b;if(typeof b.request_api=="undefined"){b.request_api=true}if(typeof b.message_template=="undefined"){b.message_template=1}me2p.options.request_api=b.request_api;me2p.options.message_template=b.message_template};me2p.setMessageTemplate=function(){if(me2p.options.message_template==3){me2p.MessageTemplate=me2p.MessageTemplate_DA;me2p.MessageTemplate2=me2p.MessageTemplate_DA}};me2p.initialize=function(b){me2p.setOptions(b);me2p.setMessageTemplate();me2p.parseElements();if(me2p.options.request_api){me2p.updateElements()}};me2p.Main={messenger:null,title:null,webPageInfoParams:null,urlMap:{},isWebPageInfoRequested:false,parsePluginElements:function(){var o=function(){me2p.Main.urlMap={};me2p.MetooHandler.reset()};o();var n=document.getElementsByTagName("meta");var m;for(var q=0,r=n.length;q<r;q++){if(n[q].getAttribute("property")=="me2:title"){m=n[q].content}}if(!m){for(var q=0,r=n.length;q<r;q++){if(n[q].getAttribute("property")=="og:title"){m=n[q].content}}}if(!m){m=document.title}this.title=m;var s=me2p.Sizzle("."+me2p.ElementClassNames.BUTTON_CONTAINER);for(var p=0,r=s.length;p<r;p++){var t=s[p].getAttribute(me2p.AttributeNames.URL);this.urlMap[t]=true}for(var t in this.urlMap){var l=me2p.Sizzle("."+me2p.ElementClassNames.BUTTON_CONTAINER+"["+me2p.AttributeNames.URL+"='"+t+"']");for(var p=0,r=l.length;p<r;p++){me2p.MetooHandler.register(l[p],t,p)}}},createParams:function(){var j="";var f=[];for(var m in this.urlMap){if(m.indexOf("http")<0){continue}f.push(m)}for(var l=0,g=f.length;l<g;l++){j+=("url="+encodeURIComponent(f[l])+(l==(g-1)?"":"&"))}if(j==""){return}if(me2p.MetooHandler.pluginKey){j+="&plugin_key="+encodeURIComponent(me2p.MetooHandler.pluginKey)}j+="&plugin_referer="+encodeURIComponent(location.href);this.webPageInfoParams=j},reqWebPageInfoAndUpdateUI:function(d){if(d){d=me2p.Util.toJson(d);if(d.createdId){me2p.Service.createdId=d.createdId}}var c=me2p.Util.fn(function(){me2p.MetooHandler.updateAll()},this).bind();me2p.Service.requestWebPageInfo(this.webPageInfoParams,c)},initMessenger:function(){if(this.messenger==null){this.messenger=new me2p.Messenger.Receiver()}},receiverTest:function(b){me2p.log("receiverTest="+b)},showError:function(b){b=me2p.Util.toJson(b);if(b.error=="8000"){alert(me2p.MessageText["8000"])}else{alert(me2p.MessageText["016"])}return}};if(me2p_config_autoRender){(function(){if(document.addEventListener){window.addEventListener("load",me2p.initialize,false)}else{if(document.attachEvent){window.attachEvent("onload",me2p.initialize)}else{var b=window.onload;window.onload=function(){me2p.initialize();if(b){b()}}}}})()}if(typeof nec=="undefined"){nec={}}if(typeof ecsrv=="undefined"){var ecsrv="ec.naver.com"}if(typeof ecModule=="undefined"){var ecModule="ec"}nec.ecImg={};nec.eccnt=0;nec.version="0.0.9";function ectrack(d,g){var j="";var c=(window.location.protocol=="https:")?"https:":"http:";j=c+"//"+ecsrv+"/"+ecModule+"?";j+="ek="+encodeURIComponent(d);j+="&ev="+encodeURIComponent(document.URL);j+="&u="+encodeURIComponent(g);if(document.images){var b=new Date().getTime();j+="&time="+b;var f=window.nec.eccnt++;var l=new Image();window.nec.ecImg[f]=l;l.onerror=(l.onload=(l.onabort=function(){delete window.nec.ecImg[f]}));l.src=j}return true}function ectrackurl(d,f){var g="";var b=new Date().getTime();var c=(window.location.protocol=="https:")?"https:":"http:";g=c+"//"+ecsrv+"/"+ecModule+"?";g+="ek="+encodeURIComponent(d);g+="&ev="+encodeURIComponent(document.URL);g+="&u="+encodeURIComponent(f);g+="&time="+b;return g}if(typeof spi=="undefined"){var spi={}}spi.util={requestJsonp:function(t,j,m,l){var s=document.head?document.head:document.getElementsByTagName("head")[0];var r=document.createElement("script");var o="spi_"+new Date().getTime();var n=(typeof a=="function")?setTimeout(a,5000):null;var b="";j=j||{};window[o]=function(){if(n){clearInterval(n)}m.apply(null,arguments);window[o]=null;s.removeChild(r)};if(t.indexOf("?")!=-1){t+=("&"+(typeof l!="undefined"?l:"_callback")+"=window."+o)}else{t+=("?"+(typeof l!="undefined"?l:"_callback")+"=window."+o)}for(k in j){if(j.hasOwnProperty(k)){b+=encodeURIComponent(k)+"="+encodeURIComponent(j[k])+"&"}}r.src=(t+"&"+b);s.appendChild(r)},strToJson:function(sObject){try{if(/^(?:\s*)[\{\[]/.test(sObject)){sObject=eval("("+sObject+")")}}catch(e){sObject={}}return sObject},toJson:function(b){if(!b){return{}}if(typeof b=="string"){return this.strToJson(b)}return b},fn:function(func,thisObject){var cl=arguments.callee;if(func instanceof cl){return func}if(!(this instanceof cl)){return new cl(func,thisObject)}this._events=[];this._tmpElm=null;this._key=null;if(typeof func=="function"){this._func=func;this._this=thisObject}else{if(typeof func=="string"&&typeof thisObject=="string"){this._func=eval("false||function("+func+"){"+thisObject+"}")}}},offset:function(g,c,b){if(!g){return false}var d=null;if(typeof c=="number"&&typeof b=="number"){if(isNaN(parseInt(g.style.top,10))){g.style.top="0px"}if(isNaN(parseInt(g.style.left,10))){g.style.left="0px"}var m=this.offset(g);var n={top:c-m.top,left:b-m.left};g.style.top=parseInt(g.style.top,10)+n.top+"px";g.style.left=parseInt(g.style.left,10)+n.left+"px";return this}var f=/Safari/.test(navigator.userAgent);var p=/MSIE/.test(navigator.userAgent);var o=p?navigator.userAgent.match(/(?:MSIE) ([0-9.]+)/)[1]:0;var j=function(r){var q={left:0,top:0};for(var t=r,s=t.offsetParent;t=t.parentNode;){if(t.offsetParent){q.left-=t.scrollLeft;q.top-=t.scrollTop}if(t==s){q.left+=r.offsetLeft+t.clientLeft;q.top+=r.offsetTop+t.clientTop;if(!t.offsetParent){q.left+=t.offsetLeft;q.top+=t.offsetTop}s=t.offsetParent;r=t}}return q};var l=function(u){var y={left:0,top:0};var z=u.ownerDocument||u.document||document;var s=z.documentElement;var t=z.body;if(u.getBoundingClientRect){if(!d){var x=(window==top);if(!x){try{x=(window.frameElement&&window.frameElement.frameBorder==1)}catch(w){}}if((p&&o<8&&window.external)&&x){d={left:2,top:2};oBase=null}else{d={left:0,top:0}}}var v=u.getBoundingClientRect();if(u!==s&&u!==t){y.left=v.left-d.left;y.top=v.top-d.top;y.left+=s.scrollLeft||t.scrollLeft;y.top+=s.scrollTop||t.scrollTop}}else{if(z.getBoxObjectFor){var v=z.getBoxObjectFor(u);var q=z.getBoxObjectFor(s||t);y.left=v.screenX-q.screenX;y.top=v.screenY-q.screenY}else{for(var r=u;r;r=r.offsetParent){y.left+=r.offsetLeft;y.top+=r.offsetTop}for(var r=u.parentNode;r;r=r.parentNode){if(r.tagName=="BODY"){break}if(r.tagName=="TR"){y.top+=2}y.left-=r.scrollLeft;y.top-=r.scrollTop}}}return y};return(f?j:l)(g)}};spi.util.fn.prototype.bind=function(){var j=arguments;var b=this._func;var f=this._this;var l=function(){var c=arguments;if(j.length){c=j.concat(c)}return b.apply(f,c)};return l};if(typeof nhn=="undefined"){nhn={}}nhn.socialplugin={drawSpiLayer:function(d,b){var c=new SocialPlugIn(false);c.setMultiMode(false);c.drawSpiLayer(d,b)},drawMultiSpiLayer:function(b){var d=0;if(b==null||b=="undefined"){return}var c=[];for(var d=0;d<b.length;d++){c[d]=new SocialPlugIn(true);c[d].setMultiMode(true);c[d].drawSpiLayer(b[d].data,b[d].layerId)}me2p.initialize();for(d=0;d<c.length;d++){c[d]._initializeMe2p()}}};function SocialPlugIn(){this._bMultiMode=false;this._htEvent={};this._htElement={};this._htInitData={};this._sUniqueId="";this._sSpiLayerId="";this._sMarkupStyle="";this._sCssStyle="";this._sAlign="left";this._tTimer=null;this._sBmkUrlId="";this._nMe2Count=0;this._htAPI={API000:"http://gn.naver.com/getLoginStatusLv2.nhn",API101:"http://me2do.naver.com/common/requestJsonp.nhn",API201:"http://relation.commcast.naver.com",API301:"http://bookmark.naver.com/api/exist_v2.nhn",API302:"http://bookmark.naver.com/apiSave.nhn",API303:"http://bookmark.naver.com/apiDelete.nhn",API501:"http://mail.naver.com/write/tmpl",API502:"http://cafe.naver.com/CafeScrapView.nhn",API503:"http://blog.naver.com/ScrapForm.nhn",API504:"http://plugin.me2day.net/v1/me2post/create_post_form.nhn",API505:"https://www.facebook.com/sharer/sharer.php",API506:"https://twitter.com/share",API507:"http://yozm.daum.net/api/popup/prePost",API508:"http://memo.naver.com/plugin/view.nhn",API509:"https://calendar.naver.com/cplugin.nhn"};this._htClickLog={me:{baseUrl:"http://social.naver.com/v/click",key:"pc.subs"},mecount:{baseUrl:"http://social.naver.com/v/click",key:"pc.subs.count"},bookmark:{baseUrl:"http://social.naver.com/v/click",key:"pc.bmk"},me2:{baseUrl:"http://social.naver.com/v/click",key:"pc.me2"},me2count:{baseUrl:"http://social.naver.com/v/click",key:"pc.me2.count"},release:{baseUrl:"http://social.naver.com/v/click",key:"pc.snd"},copyurl:{baseUrl:"http://social.naver.com/v/click",key:"pc.cpurl"},mail:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndmail"},blog:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndblog"},memo:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndmemo"},calendar:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndclnd"},cafe:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndcafe"},me2post:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndme2"},facebook:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndfb"},twitter:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndtw"},yozm:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndyz"},melink:{baseUrl:"http://social.naver.com/v/click",key:"pc.melnk"},bmklink:{baseUrl:"http://social.naver.com/v/click",key:"pc.bmklnk"}};this._htFinishLog={me:{baseUrl:"http://social.naver.com/v/finish",key:"pc.subs"},bookmark:{baseUrl:"http://social.naver.com/v/finish",key:"pc.bmk"},me2:{baseUrl:"http://social.naver.com/v/finish",key:"pc.m2"},mail:{baseUrl:"http://social.naver.com/v/finish",key:"pc.sndmail"},blog:{baseUrl:"http://social.naver.com/v/finish",key:"pc.sndblog"},cafe:{baseUrl:"http://social.naver.com/v/finish",key:"pc.sndcafe"},me2post:{baseUrl:"http://social.naver.com/v/finish",key:"pc.sndme2"}};this._htStyleSheet={standard:"http://spi.naver.net/css/20120816/spi_standard_euckr_20120816.css",standard_ie6:"http://spi.naver.net/css/20120816/spi_standard_ie6_euckr_20120816.css"};this._htMarkUp={standard:"<div id='_spi_layer_id_' class='spi_default'>	<ul class='spi_lst'>		<li class='_spi_btn_me spi_btn_me' style='display:none;'><a href='#' class='_spi_btn_me'><span class='_spi_btn_me'></span>구독<em></em></a></li>		<li class='_spi_btn_bookmark spi_btn_bookmark' style='display:none;'><a href='#' title='네이버 북마크를 사용해보세요' class='_spi_bmk_load _spi_btn_bookmark'><span class='_spi_btn_bookmark'></span>북마크<em></em></a></li>		<li class='_spi_btn_me2day me2button_container spi_btn_me2day' plugin_key='_me2key_' href='_me2source_' before_metoo_class='none' after_metoo_class='spi_dimmed'><a href='#' class='_spi_btn_me2day me2button_button'><span class='_spi_btn_me2day'></span>미투<em class='_spi_btn_me2day'></em></a>			<ul class='spi_cnt_tooltip me2button_count_bubble' style='display:none;'><li><strong><a href='#' class='_spi_btn_me2count me2button_count spi_cnt'>0</a></strong><em class='_spi_btn_me2count'></em></li></ul>			<div class='_me2button_layer me2button_layer spi_ly_style' success_icon_class='spi_icon1' error_icon_class='spi_icon2' style='display:none'>				<p class='me2button_layer_message spi_ly_msg spi_icon2'></p>				<p class='me2button_layer_signin spi_ly_cfm'></p>				<button type='button' title='닫기' class='me2button_layer_close spi_me2btn_close'><span></span><em>X</em></button>			</div>		</li>		<li class='_spi_btn_release_ spi_btn_release'><a href='#' class='_spi_btn_release_'><span class='_spi_btn_release_ spi_bg_release'></span>보내기<em class='_spi_btn_release_'></em><span class='_spi_btn_release_ spi_bu_arr'></span></a>			<ul class='_spi_lst_release spi_lst_release' style='display:none;'>				<li class='_spi_lnk_url spi_lnk_url' style='display:none;'><a href='#' class='_spi_lnk_url'><span class='_spi_lnk_url'></span><span class='_spi_lnk_url ls'>URL</span>복사</a></li>				<li class='_spi_lnk_mail spi_lnk_mail' style='display:none;'><a href='#' class='_spi_lnk_mail'><span class='_spi_lnk_mail'></span>메일</a></li>				<li class='_spi_lnk_cafe spi_lnk_cafe' style='display:none;'><a href='#' class='_spi_lnk_cafe'><span class='_spi_lnk_cafe'></span>카페</a></li>				<li class='_spi_lnk_blog spi_lnk_blog' style='display:none;'><a href='#' class='_spi_lnk_blog'><span class='_spi_lnk_blog'></span>블로그</a></li>				<li class='_spi_lnk_memo spi_lnk_memo' style='display:none;'><a href='#' class='_spi_lnk_memo'><span class='_spi_lnk_memo'></span>메모</a></li>				<li class='_spi_lnk_calendar spi_lnk_calendar' style='display:none;'><a href='#' class='_spi_lnk_calendar'><span class='_spi_lnk_calendar'></span>일정</a></li>				<li class='_spi_lnk_me2post spi_lnk_me2' style='display:none;'><a href='#' class='_spi_lnk_me2post'><span class='_spi_lnk_me2post'></span>미투데이</a></li>				<li class='_spi_lnk_facebook spi_lnk_facebook' style='display:none;'><a href='#' class='_spi_lnk_facebook'><span class='_spi_lnk_facebook'></span>페이스북</a></li>				<li class='_spi_lnk_twitter spi_lnk_twitter' style='display:none;'><a href='#' class='_spi_lnk_twitter'><span class='_spi_lnk_twitter'></span>트위터</a></li>				<li class='_spi_lnk_yozm spi_lnk_yozm' style='display:none;'><a href='#' class='_spi_lnk_yozm'><span class='_spi_yozm'></span>요즘</a></li>			</ul>		</li>	</ul>	<div class='_ly_bmk_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:242px'>		<p class='spi_dsc'>북마크 되었습니다.<br> <a href='http://me.naver.com/tab/bookmark.nhn' target='_blank' class='_ly_bmk_lnk spi_impact'>네이버me 북마크함 가기</a></p>		<button class='_ly_bmk_ok_cls spi_close' type='button'><span class='_ly_bmk_ok_cls'></span><em class='_ly_bmk_ok_cls'>X</em></button>	</div>	<div class='_ly_bmk_cnf spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>현재 북마크 되어있습니다.<br> 북마크를 해제하시겠습니까?</p>		<div class='spi_btn'>			<a href='#' class='spi_y'><span class='_ly_bmk_cnf_y'></span>예</a>			<a href='#' class='spi_n'><span class='_ly_bmk_cnf_n'></span>아니오</a>		</div>		<button class='_ly_bmk_cnf_cls spi_close' type='button'><span class='_ly_bmk_cnf_cls'></span><em class='_ly_bmk_cnf_cls'>X</em></button>	</div>	<div class='_ly_bmk_err spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>서버 접속이 원활하지 않습니다.<br> 잠시 후 다시 시도해 주십시오.</p>		<button class='_ly_bmk_err_cls spi_close' type='button'><span class='_ly_bmk_err_cls'></span><em class='_ly_bmk_err_cls'>X</em></button>	</div>	<div class='_ly_bmk_ros spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>북마크 서비스 점검 중으로,<br>현재 북마크 읽기만 가능하오니<br>이용에 참고해 주시기 바랍니다.</p>		<button class='_ly_bmk_ros_cls spi_close' type='button'><span class='_ly_bmk_ros_cls'></span><em class='_ly_bmk_ros_cls'>X</em></button>	</div>	<div class='_ly_url_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>URL이 복사되었습니다.<br>원하는 곳에 붙여넣기(Ctrl+V)해 주세요.</p>		<button type='button' class='_ly_url_ok_cls spi_close'><span class='_ly_url_ok_cls'></span><em class='_ly_url_ok_cls'>X</em></button>	</div>	<div class='_ly_pop spi_ly_pop ly_pop_v1' style='display:none;left:0;top:-82px;width:213px'>		<p class='_ly_pop spi_dsc'>이 _feed_info_ 마음에 드셨다면<br><a href='http://me.naver.com/' target='_blank' class='_ly_pop _ly_me_lnk spi_impact'>네이버me</a>에서 편하게 받아보세요.</p>		<div class='_ly_pop spi_ico_arr'></div>	</div></div>",text:"<div id='_spi_layer_id_' class='spi_default spi_default_v1'>   <ul class='spi_lst _text_style_'>   	<li class='_spi_btn_me spi_btn_me' style='display:none;'><a href='#' class='_spi_btn_me _text_class_'><span class='_spi_btn_me'></span>구독하기<em class='_spi_btn_me'></em></a></li>   	<li class='_spi_btn_bookmark spi_btn_bookmark' style='display:none;'><a href='#' title='네이버 북마크를 사용해보세요' class='_spi_bmk_load _spi_btn_bookmark  _text_class_'><span class='_spi_btn_bookmark'></span>북마크<em class='_spi_sep1 _bar_class_'></em></a></li>		<li class='_spi_btn_me2day me2button_container spi_btn_me2day' plugin_key='_me2key_' href='_me2source_' before_metoo_class='none' after_metoo_class='spi_dimmed'><a href='#' class='_spi_btn_me2day me2button_button _text_class_'><span class='_spi_btn_me2day'></span>미투<em class='_spi_sep2 _bar_class_'></em></a>			<ul class='spi_cnt_tooltip me2button_count_bubble' style='display:none;'><li><strong><a href='#' class='_spi_btn_me2count me2button_count spi_cnt'>0</a></strong><em class='_me_sep2'></em></li></ul>			<div class='_me2button_layer me2button_layer spi_ly_style' success_icon_class='spi_icon1' error_icon_class='spi_icon2' style='display:none'>				<p class='me2button_layer_message spi_ly_msg spi_icon2'></p>				<p class='me2button_layer_signin spi_ly_cfm'></p>				<button type='button' title='닫기' class='me2button_layer_close spi_me2btn_close'><span></span><em>X</em></button>			</div>		</li>   	<li class='_spi_btn_release_ spi_btn_release'><a href='#' class='_spi_btn_release_ _text_class_'><span class='_spi_btn_release_ spi_bg_release'></span>보내기<em class='_spi_sep3 _bar_class_'></em><span class='_spi_btn_release_ spi_bu_arr'></span></a>      		<ul class='_spi_lst_release spi_lst_release' style='display:none;'>				<li class='_spi_lnk_url spi_lnk_url' style='display:none;'><a href='#' class='_spi_lnk_url'><span class='_spi_lnk_url'></span><span class='_spi_lnk_url ls'>URL</span>복사</a></li>       		<li class='_spi_lnk_mail spi_lnk_mail' style='display:none;'><a href='#' class='_spi_lnk_mail'><span class='_spi_lnk_mail'></span>메일</a></li>       		<li class='_spi_lnk_cafe spi_lnk_cafe' style='display:none;'><a href='#' class='_spi_lnk_cafe'><span class='_spi_lnk_cafe'></span>카페</a></li>       		<li class='_spi_lnk_blog spi_lnk_blog' style='display:none;'><a href='#' class='_spi_lnk_blog'><span class='_spi_lnk_blog'></span>블로그</a></li>				<li class='_spi_lnk_memo spi_lnk_memo' style='display:none;'><a href='#' class='_spi_lnk_memo'><span class='_spi_lnk_memo'></span>메모</a></li>				<li class='_spi_lnk_calendar spi_lnk_calendar' style='display:none;'><a href='#' class='_spi_lnk_calendar'><span class='_spi_lnk_calendar'></span>일정</a></li>       		<li class='_spi_lnk_me2post spi_lnk_me2' style='display:none;'><a href='#' class='_spi_lnk_me2post'><span class='_spi_lnk_me2post'></span>미투데이</a></li>       		<li class='_spi_lnk_facebook spi_lnk_facebook' style='display:none;'><a href='#' class='_spi_lnk_facebook'><span class='_spi_lnk_facebook'></span>페이스북</a></li>       		<li class='_spi_lnk_twitter spi_lnk_twitter' style='display:none;'><a href='#' class='_spi_lnk_twitter'><span class='_spi_lnk_twitter'></span>트위터</a></li>			    <li class='_spi_lnk_yozm spi_lnk_yozm' style='display:none;'><a href='#' class='_spi_lnk_yozm'><span class='_spi_yozm'></span>요즘</a></li>       	</ul>   	</li>   </ul>	<div class='_ly_bmk_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:242px'>		<p class='spi_dsc'>북마크 되었습니다.<br> <a href='http://me.naver.com/tab/bookmark.nhn' target='_blank' class='_ly_bmk_lnk spi_impact'>네이버me 북마크함 가기</a></p>		<button class='_ly_bmk_ok_cls spi_close' type='button'><span class='_ly_bmk_ok_cls'></span><em class='_ly_bmk_ok_cls'>X</em></button>	</div>	<div class='_ly_bmk_cnf spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>현재 북마크 되어있습니다.<br> 북마크를 해제하시겠습니까?</p>		<div class='spi_btn'>			<a href='#' class='spi_y'><span class='_ly_bmk_cnf_y'></span>예</a>			<a href='#' class='spi_n'><span class='_ly_bmk_cnf_n'></span>아니오</a>		</div>		<button class='_ly_bmk_cnf_cls spi_close' type='button'><span class='_ly_bmk_cnf_cls'></span><em class='_ly_bmk_cnf_cls'>X</em></button>	</div>	<div class='_ly_bmk_err spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>서버 접속이 원활하지 않습니다.<br> 잠시 후 다시 시도해 주십시오.</p>		<button class='_ly_bmk_err_cls spi_close' type='button'><span class='_ly_bmk_err_cls'></span><em class='_ly_bmk_err_cls'>X</em></button>	</div>	<div class='_ly_bmk_ros spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>북마크 서비스 점검 중으로,<br>현재 북마크 읽기만 가능하오니<br>이용에 참고해 주시기 바랍니다.</p>		<button class='_ly_bmk_ros_cls spi_close' type='button'><span class='_ly_bmk_ros_cls'></span><em class='_ly_bmk_ros_cls'>X</em></button>	</div>	<div class='_ly_url_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>URL이 복사되었습니다.<br>원하는 곳에 붙여넣기(Ctrl+V)해 주세요.</p>		<button type='button' class='_ly_url_ok_cls spi_close'><span class='_ly_url_ok_cls'></span><em class='_ly_url_ok_cls'>X</em></button>	</div>	<div class='_ly_pop spi_ly_pop ly_pop_v1' style='display:none;left:0;top:-82px;width:213px'>		<p class='_ly_pop spi_dsc'>이 _feed_info_ 마음에 드셨다면<br><a href='http://me.naver.com/' target='_blank' class='_ly_pop _ly_me_lnk spi_impact'>네이버me</a>에서 편하게 받아보세요.</p>		<div class='_ly_pop spi_ico_arr'></div>	</div></div>",community:"<div id='_spi_layer_id_' class='spi_default spi_default_v1 spi_icon'>   <ul class='spi_lst _text_style_'>   	<li class='_spi_btn_me spi_btn_me' style='display:none;'><a href='#' class='_spi_btn_me _text_class_'><span class='_spi_btn_me'></span>구독<em class='_spi_btn_me'></em></a></li>   	<li class='_spi_btn_bookmark spi_btn_bookmark' style='display:none;'><a href='#' title='네이버 북마크를 사용해보세요' class='_spi_bmk_load _spi_btn_bookmark _text_class_'><span class='_spi_btn_bookmark'></span>북마크<em class='_spi_sep1 _bar_class_'></em></a></li>		<li class='_spi_btn_me2day me2button_container spi_btn_me2day' plugin_key='_me2key_' href='_me2source_' before_metoo_class='none' after_metoo_class='spi_dimmed'><a href='#' class='_spi_btn_me2day me2button_button spi_dimmed _text_class_'><span class='_spi_btn_me2day'></span>미투<em class='_spi_sep2 _bar_class_'></em></a>			<ul class='spi_cnt_tooltip me2button_count_bubble' style='display:none;'><li><strong><a href='#' class='_spi_btn_me2count me2button_count spi_cnt'>0</a></strong><em class='_me_sep2'></em></li></ul>			<div class='_me2button_layer me2button_layer spi_ly_style' success_icon_class='spi_icon1' error_icon_class='spi_icon2' style='display:none'>				<p class='me2button_layer_message spi_ly_msg spi_icon2'></p>				<p class='me2button_layer_signin spi_ly_cfm'></p>				<button type='button' title='닫기' class='me2button_layer_close spi_me2btn_close'><span></span><em>X</em></button>			</div>		</li>   	<li class='_spi_btn_release_ spi_btn_release'><a href='#' class='_spi_btn_release_ _text_class_'><span class='_spi_btn_release_ spi_bg_release'></span>보내기<em class='_spi_sep3 _bar_class_'></em><span class='_spi_btn_release_ spi_bu_arr'></span></a>      		<ul class='_spi_lst_release spi_lst_release' style='display:none;'>				<li class='_spi_lnk_url spi_lnk_url' style='display:none;'><a href='#' class='_spi_lnk_url'><span class='_spi_lnk_url'></span><span class='_spi_lnk_url ls'>URL</span>복사</a></li>       		<li class='_spi_lnk_mail spi_lnk_mail' style='display:none;'><a href='#' class='_spi_lnk_mail'><span class='_spi_lnk_mail'></span>메일</a></li>       		<li class='_spi_lnk_cafe spi_lnk_cafe' style='display:none;'><a href='#' class='_spi_lnk_cafe'><span class='_spi_lnk_cafe'></span>카페</a></li>       		<li class='_spi_lnk_blog spi_lnk_blog' style='display:none;'><a href='#' class='_spi_lnk_blog'><span class='_spi_lnk_blog'></span>블로그</a></li>				<li class='_spi_lnk_memo spi_lnk_memo' style='display:none;'><a href='#' class='_spi_lnk_memo'><span class='_spi_lnk_memo'></span>메모</a></li>				<li class='_spi_lnk_calendar spi_lnk_calendar' style='display:none;'><a href='#' class='_spi_lnk_calendar'><span class='_spi_lnk_calendar'></span>일정</a></li>       		<li class='_spi_lnk_me2post spi_lnk_me2' style='display:none;'><a href='#' class='_spi_lnk_me2post'><span class='_spi_lnk_me2post'></span>미투데이</a></li>       		<li class='_spi_lnk_facebook spi_lnk_facebook' style='display:none;'><a href='#' class='_spi_lnk_facebook'><span class='_spi_lnk_facebook'></span>페이스북</a></li>       		<li class='_spi_lnk_twitter spi_lnk_twitter' style='display:none;'><a href='#' class='_spi_lnk_twitter'><span class='_spi_lnk_twitter'></span>트위터</a></li>			    <li class='_spi_lnk_yozm spi_lnk_yozm' style='display:none;'><a href='#' class='_spi_lnk_yozm'><span class='_spi_yozm'></span>요즘</a></li>       	</ul>   	</li>   </ul>	<div class='_ly_bmk_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:242px'>		<p class='spi_dsc'>북마크 되었습니다.<br> <a href='http://me.naver.com/tab/bookmark.nhn' target='_blank' class='_ly_bmk_lnk spi_impact'>네이버me 북마크함 가기</a></p>		<button class='_ly_bmk_ok_cls spi_close' type='button'><span class='_ly_bmk_ok_cls'></span><em class='_ly_bmk_ok_cls'>X</em></button>	</div>	<div class='_ly_bmk_cnf spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>현재 북마크 되어있습니다.<br> 북마크를 해제하시겠습니까?</p>		<div class='spi_btn'>			<a href='#' class='spi_y'><span class='_ly_bmk_cnf_y'></span>예</a>			<a href='#' class='spi_n'><span class='_ly_bmk_cnf_n'></span>아니오</a>		</div>		<button class='_ly_bmk_cnf_cls spi_close' type='button'><span class='_ly_bmk_cnf_cls'></span><em class='_ly_bmk_cnf_cls'>X</em></button>	</div>	<div class='_ly_bmk_err spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>서버 접속이 원활하지 않습니다.<br> 잠시 후 다시 시도해 주십시오.</p>		<button class='_ly_bmk_err_cls spi_close' type='button'><span class='_ly_bmk_err_cls'></span><em class='_ly_bmk_err_cls'>X</em></button>	</div>	<div class='_ly_bmk_ros spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>북마크 서비스 점검 중으로,<br>현재 북마크 읽기만 가능하오니<br>이용에 참고해 주시기 바랍니다.</p>		<button class='_ly_bmk_ros_cls spi_close' type='button'><span class='_ly_bmk_ros_cls'></span><em class='_ly_bmk_ros_cls'>X</em></button>	</div>	<div class='_ly_url_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>URL이 복사되었습니다.<br>원하는 곳에 붙여넣기(Ctrl+V)해 주세요.</p>		<button type='button' class='_ly_url_ok_cls spi_close'><span class='_ly_url_ok_cls'></span><em class='_ly_url_ok_cls'>X</em></button>	</div>	<div class='_ly_pop spi_ly_pop ly_pop_v1' style='display:none;left:0;top:-82px;width:213px'>		<p class='_ly_pop spi_dsc'>이 _feed_info_ 마음에 드셨다면<br><a href='http://me.naver.com/' target='_blank' class='_ly_pop _ly_me_lnk spi_impact'>네이버me</a>에서 편하게 받아보세요.</p>		<div class='_ly_pop spi_ico_arr'></div>	</div></div>"};this.setMultiMode=function(b){this._bMultiMode=b};this.drawSpiLayer=function(c,b){this._htInitData=c||{};this._prepareMarkUp(b);this._setElement();this._setupEvent();this._renderAll();if(this._bMultiMode==false){this._initializeMe2p()}};this._isDisplayOn=function(b){var d=false;var c=this._htInitData[b];if(typeof c=="undefined"){d=true}else{if(typeof c.display=="undefined"){d=true}else{if(c.display==="on"){d=true}}}return d};this._prepareMarkUp=function(c){var p=this,j=this._htInitData,g=this._htMarkUp;var b="standard",o="black",n="standard";var l="",f="";if(this._htInitData.style){b=this._htInitData.style}if(this._htInitData.align){this._sAlign=this._htInitData.align}switch(b){case"standard":this._sMarkupStyle="standard";this._sCssStyle="standard";break;case"text":this._sMarkupStyle="text";this._sCssStyle="standard";break;case"community":this._sMarkupStyle="community";this._sCssStyle="standard";break;case"standard_quirks":this._sMarkupStyle="standard";this._sCssStyle="standard_quirks";break;case"text_quirks":this._sMarkupStyle="text";this._sCssStyle="standard_quirks";break;case"community_quirks":this._sMarkupStyle="community";this._sCssStyle="standard_quirks";break;default:this._sMarkupStyle="standard";this._sCssStyle="standard";break}l=g[this._sMarkupStyle];this._sUniqueId=this._getRandomId();this._sSpiLayerId="spi_layer_"+this._sUniqueId;l=l.replace(/_spi_layer_id_/gi,this._sSpiLayerId);if(j.text){o=j.text;if((this._sMarkupStyle.indexOf("text")>-1||this._sMarkupStyle.indexOf("community")>-1)&&o=="white"){l=l.replace(/_text_style_/gi,"spi_txt")}else{l=l.replace(/_text_style_/gi,"")}}if(this._sMarkupStyle.indexOf("text")>-1||this._sMarkupStyle.indexOf("community")>-1){if(this._isNotNull(j.textClass)){l=l.replace(/_text_class_/gi,j.textClass)}else{l=l.replace(/_text_class_/gi,"")}if(this._isNotNull(j.barClass)){l=l.replace(/_bar_class_/gi,j.barClass)}else{l=l.replace(/_bar_class_/gi,"")}}if(this._isDisplayOn("me")){l=l.replace(/_feed_info_/gi,j.me["feedInfo"])}if(this._isNotNull(j.me2day)&&this._isNotNull(j.me2day["sourceUrl"])){f=j.me2day["sourceUrl"]}else{f=j.source}l=l.replace(/_me2key_/gi,j.me2key);l=l.replace(/_me2source_/gi,this._getSourceUrl("me2day"));l=l.replace(/_spi_btn_release_/gi,"_spi_btn_release");this._appendStyleSheet(this._sCssStyle);document.getElementById(c).innerHTML=l};this._appendStyleSheet=function(j){var d="spi_style_"+j;if(this._isNotNull(document.getElementById(d))){return}var c=document.getElementsByTagName("head")[0];var b=(navigator.userAgent.indexOf("Windows")>-1);var g=(navigator.userAgent.indexOf("MSIE")>-1);var l=(navigator.appVersion.indexOf("MSIE 6")>-1);var f=document.createElement("link");f.id=d;f.rel="stylesheet";f.type="text/css";f.href=this._htStyleSheet[j+(b&&g&&l?"_ie6":"")];c.appendChild(f)};this._setElement=function(){var c=this._htInitData.style;var b=document.getElementById(this._sSpiLayerId);this._htElement.spi_area=b;this._htElement.spi_lst=this._getElementByClass(b,"spi_lst");this._htElement.me=this._getElementByClass(b,"_spi_btn_me");this._htElement.bookmark=this._getElementByClass(b,"_spi_btn_bookmark");this._htElement.me2=this._getElementByClass(b,"_spi_btn_me2day");this._htElement.me2count=this._getElementByClass(b,"_spi_btn_me2count");this._htElement.me2layer=this._getElementByClass(b,"_me2button_layer");this._htElement.release_btn=this._getElementByClass(b,"_spi_btn_release");this._htElement.release=this._getElementByClass(b,"_spi_lst_release");this._htElement.mail=this._getElementByClass(b,"_spi_lnk_mail");this._htElement.cpurl=this._getElementByClass(b,"_spi_lnk_url");this._htElement.cafe=this._getElementByClass(b,"_spi_lnk_cafe");this._htElement.blog=this._getElementByClass(b,"_spi_lnk_blog");this._htElement.memo=this._getElementByClass(b,"_spi_lnk_memo");this._htElement.calendar=this._getElementByClass(b,"_spi_lnk_calendar");this._htElement.me2post=this._getElementByClass(b,"_spi_lnk_me2post");this._htElement.facebook=this._getElementByClass(b,"_spi_lnk_facebook");this._htElement.twitter=this._getElementByClass(b,"_spi_lnk_twitter");this._htElement.yozm=this._getElementByClass(b,"_spi_lnk_yozm");this._htElement.bmk_ok=this._getElementByClass(b,"_ly_bmk_ok");this._htElement.bmk_cnf=this._getElementByClass(b,"_ly_bmk_cnf");this._htElement.bmk_err=this._getElementByClass(b,"_ly_bmk_err");this._htElement.bmk_ros=this._getElementByClass(b,"_ly_bmk_ros");this._htElement.cpurl_ok=this._getElementByClass(b,"_ly_url_ok");this._htElement.me_pop=this._getElementByClass(b,"_ly_pop");if(c.indexOf("text")>-1||c.indexOf("community")>-1){this._htElement.sep1=this._getElementByClass(b,"_spi_sep1");this._htElement.sep2=this._getElementByClass(b,"_spi_sep2");this._htElement.sep3=this._getElementByClass(b,"_spi_sep3")}};this._setupEvent=function(){this._attachEvent(this._htElement.spi_area,"click",spi.util.fn(this._onClick,this).bind());this._attachEvent(this._htElement.me,"mouseover",spi.util.fn(this._onMouseOver,this).bind());this._attachEvent(this._htElement.me_pop,"mouseover",spi.util.fn(this._onMouseOver,this).bind());this._attachEvent(this._htElement.me,"mouseout",spi.util.fn(this._onMouseOut,this).bind());this._attachEvent(this._htElement.me_pop,"mouseout",spi.util.fn(this._onMouseOut,this).bind())};this._onClick=function(){var f=null;var d=this._htElement;var c=arguments[0]||window.event;var b=c.target||c.srcElement;if(this._hasClass(b,"_spi_btn_me")){f="me";this._preventEvent(c);this._openMeFeedPopup()}else{if(this._hasClass(b,"_spi_btn_bookmark")){f="bookmark";this._preventEvent(c);this._checkBookmarkData()}else{if(this._hasClass(b,"_spi_btn_me2day")){f="me2";this._preventEvent(c);this._closeAllLayer("me2day")}else{if(this._hasClass(b,"_spi_btn_me2count")){f="me2count";this._closeAllLayer("me2day")}else{if(this._hasClass(b,"_spi_lnk_url")){f="copyurl";this._preventEvent(c);this._openCopyUrl()}else{if(this._hasClass(b,"_spi_lnk_mail")){f="mail";this._preventEvent(c);this._openMailPopup()}else{if(this._hasClass(b,"_spi_lnk_cafe")){f="cafe";this._preventEvent(c);this._openCafePopup()}else{if(this._hasClass(b,"_spi_lnk_blog")){f="blog";this._preventEvent(c);this._openBlogPopup()}else{if(this._hasClass(b,"_spi_lnk_memo")){f="memo";this._preventEvent(c);this._openMemoPopup()}else{if(this._hasClass(b,"_spi_lnk_calendar")){f="calendar";this._preventEvent(c);this._openCalendarPopup()}else{if(this._hasClass(b,"_spi_lnk_me2post")){f="me2post";this._preventEvent(c);this._openMe2PostPopup()}else{if(this._hasClass(b,"_spi_lnk_facebook")){f="facebook";this._preventEvent(c);this._openFacebookPopup()}else{if(this._hasClass(b,"_spi_lnk_twitter")){f="twitter";this._preventEvent(c);this._openTwitterPopup()}else{if(this._hasClass(b,"_spi_lnk_yozm")){f="yozm";this._preventEvent(c);this._openYozmPopup()}else{if(this._hasClass(b,"_spi_btn_release")){f="release";this._preventEvent(c);this._closeAllLayer("release");this._toggle(d.release)}else{if(this._hasClass(b,"_ly_bmk_ok_cls")){this._hide(d.bmk_ok)}else{if(this._hasClass(b,"_ly_bmk_lnk")){f="bmklink";this._hide(d.bmk_ok)}else{if(this._hasClass(b,"_ly_bmk_cnf_y")){this._preventEvent(c);this._hide(d.bmk_cnf);this._deleteBookmarkData()}else{if(this._hasClass(b,"_ly_bmk_cnf_n")){this._preventEvent(c);this._hide(d.bmk_cnf)}else{if(this._hasClass(b,"_ly_bmk_cnf_cls")){this._preventEvent(c);this._hide(d.bmk_cnf)}else{if(this._hasClass(b,"_ly_bmk_err_cls")){this._preventEvent(c);this._hide(d.bmk_err)}else{if(this._hasClass(b,"_ly_bmk_ros_cls")){this._preventEvent(c);this._hide(d.bmk_ros)}else{if(this._hasClass(b,"_ly_url_ok_cls")){this._preventEvent(c);this._hide(d.cpurl_ok)}else{if(this._hasClass(b,"_ly_me_lnk")){f="melink"}}}}}}}}}}}}}}}}}}}}}}}}if(!this._hasClass(b,"_spi_btn_release")){this._hide(d.release)}this._sendEventLog("click",f)};this._preventEvent=function(b){if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}};this._onMouseOver=function(){var d=this._htElement;var c=arguments[0]||window.event;var b=c.target||c.srcElement;if(this._hasClass(b,"_spi_btn_me")||this._hasClass(b,"_ly_pop")){clearTimeout(this._tTimer);this._show(d.me_pop);spi.util.offset(d.me_pop,spi.util.offset(d.me_pop).top,spi.util.offset(d.me).left)}};this._onMouseOut=function(){var d=this._htElement;var c=arguments[0]||window.event;var b=c.target||c.srcElement;if(this._hasClass(b,"_spi_btn_me")||this._hasClass(b,"_ly_pop")){this._tTimer=setTimeout(spi.util.fn(function(){this._hide(d.me_pop);this._tTimer=null},this).bind(),1000)}};this._closeAllLayer=function(b){var c=this._htElement;if(b!="bmk_ok"){this._hide(c.bmk_ok)}if(b!="bmk_cnf"){this._hide(c.bmk_cnf)}if(b!="bmk_err"){this._hide(c.bmk_err)}if(b!="bmk_ros"){this._hide(c.bmk_ros)}if(b!="cpurl_ok"){this._hide(c.cpurl_ok)}if(b!="release"){this._hide(c.release)}if(b!="me2day"){if(this._isDisplayOn("me2day")){me2p.MetooHandler.get(this._getSourceUrl("me2day")).closeLayer()}}};this._renderAll=function(){var b=this._htInitData.style;var c=this._htElement;this._isDisplayOn("me")?this._show(c.me):this._hide(c.me);this._isDisplayOn("bookmark")?this._show(c.bookmark):this._hide(c.bookmark);this._isDisplayOn("me2day")?this._show(c.me2):this._hide(c.me2);this._isDisplayOn("postbtn")?this._show(c.release_btn):this._hide(c.release_btn);this._isDisplayOn("copyurl")?this._show(c.cpurl):this._hide(c.cpurl);this._isDisplayOn("mail")?this._show(c.mail):this._hide(c.mail);this._isDisplayOn("cafe")?this._show(c.cafe):this._hide(c.cafe);this._isDisplayOn("blog")?this._show(c.blog):this._hide(c.blog);this._isDisplayOn("memo")?this._show(c.memo):this._hide(c.memo);this._isDisplayOn("calendar")?this._show(c.calendar):this._hide(c.calendar);this._isDisplayOn("me2post")?this._show(c.me2post):this._hide(c.me2post);this._isDisplayOn("facebook")?this._show(c.facebook):this._hide(c.facebook);this._isDisplayOn("twitter")?this._show(c.twitter):this._hide(c.twitter);this._isDisplayOn("yozm")?this._show(c.yozm):this._hide(c.yozm);if(b.indexOf("text")>-1||b.indexOf("community")>-1){if(this._isDisplayOn("postbtn")&&(this._isDisplayOn("me")||this._isDisplayOn("bookmark")||this._isDisplayOn("me2day"))){}else{this._hide(c.sep3)}if(this._isDisplayOn("me2day")&&(this._isDisplayOn("me")||this._isDisplayOn("bookmark"))){}else{this._hide(c.sep2)}if(this._isDisplayOn("bookmark")&&(this._isDisplayOn("me"))){}else{this._hide(c.sep1)}}};this._initializeMe2p=function(){var b=this._getSourceUrl("me2day");if(this._bMultiMode==false){me2p.initialize()}me2p.MetooHandler.get(b).registerEvent("onBeforeMetoo",spi.util.fn(function(){this._nMe2Count=parseInt(this._htElement.me2count.innerHTML)},this).bind());me2p.MetooHandler.get(b).registerEvent("onAfterMetoo",spi.util.fn(function(){if(this._nMe2Count<parseInt(this._htElement.me2count.innerHTML)){this._sendEventLog("finish","me2")}},this).bind());me2p.MetooHandler.get(b).registerEvent("onBeforeShowLayer",spi.util.fn(function(){this._closeAllLayer()},this).bind());me2p.MetooHandler.get(b).registerEvent("onShowLayer",spi.util.fn(function(){var d=this._htElement.me2,c=this._htElement.me2layer;spi.util.offset(c,spi.util.offset(d).top+d.offsetHeight+3,spi.util.offset(d).left-(this._sAlign=="right"?c.offsetWidth-d.offsetWidth:0))},this).bind())};this._openMeFeedPopup=function(){var c="_feedPopup",d="_feedPopupForm";var f=this._htInitData.me;var b=document.getElementById(d);if(this._isNotNull(f.fCallback)&&typeof f.fCallback=="function"){f.fCallback();return}if(b==null){b=document.createElement("form");b.id=d;b.action=this._htAPI.API201+f.targetUrl;b.method="post";b.target=c}this._appendChilds(b,[this._createInputElement("hidden","popupType",f.popupType),this._createInputElement("hidden","callbackUrl",f.callbackUrl),this._createInputElement("hidden","serviceId",f.serviceId),this._createInputElement("hidden","feedGroupId",f.feedGroupId),this._createInputElement("hidden","feedGroupUrl",f.feedGroupUrl),this._createInputElement("hidden","feedGroupName",f.feedGroupName),this._createInputElement("hidden","ek",this._htFinishLog.me["key"]+"."+this._htInitData.evkey),this._createInputElement("hidden","ev",this._htFinishLog.me["baseUrl"]),]);this._appendChilds(b,this._createInputElementArr("hidden","feedId",f.feedId));this._appendChilds(b,this._createInputElementArr("hidden","feedName",f.feedName));this._appendChilds(b,this._createInputElementArr("hidden","selected",f.selected));this._appendChilds(b,this._createInputElementArr("hidden","feedType",f.feedType));document.body.appendChild(b);this._openPopupToCenter("",c,380,400,"location=no,resize=no,scrollbars=no,resizable=no");this._setFormCharset(b,"utf-8");b.submit();this._setFormCharset(b,"euc-kr");b.parentNode.removeChild(b)};this._checkBookmarkData=function(){var b='["'+this._getSourceUrl("bookmark")+'"]';this._setBookmarkLoading("on");spi.util.requestJsonp(this._htAPI.API301,{urls:b},spi.util.fn(this._onCheckBookmarkData,this).bind())};this._onCheckBookmarkData=function(d){var c=spi.util.toJson(d);this._setBookmarkLoading("off");if(c.bookmarkError){var b=c.bookmarkError;if(b.responseCode==900){if(this._isNotNull(this._htInitData.onLoginRedirect)&&typeof this._htInitData.onLoginRedirect=="function"){this._htInitData.onLoginRedirect()}else{this._redirectLoginPage(document.location.href)}}else{this._showBookmarkLayer(this._htElement.bmk_err)}}else{if(c.list&&c.list.length==1){var b=c.list[0];if(b.exist==false){this._postBookmarkData()}else{this._sBmkUrlId=b.urlId;this._showBookmarkLayer(this._htElement.bmk_cnf)}}else{this._showBookmarkLayer(this._htElement.bmk_err)}}};this._postBookmarkData=function(){var b=this._htInitData.title;var c=this._htInitData.evkey;var d=this._getSourceUrl("bookmark");this._setBookmarkLoading("on");spi.util.requestJsonp(this._htAPI.API302,{title:b,url:d,isPrivate:true,type:"B",source:c},spi.util.fn(this._onPostBookmarkData,this).bind())};this._onPostBookmarkData=function(d){var c=spi.util.toJson(d);this._setBookmarkLoading("off");if(c&&c.bookmarkSave){var b=c.bookmarkSave;if(b.ros==1){this._showBookmarkLayer(this._htElement.bmk_ros)}else{if((b.responseCode==0)||(b.responseCode==1)){this._showBookmarkLayer(this._htElement.bmk_ok);this._sendEventLog("finish","bookmark")}else{this._showBookmarkLayer(this._htElement.bmk_err)}}}else{this._showBookmarkLayer(this._htElement.bmk_err)}};this._deleteBookmarkData=function(){var b=this._sBmkUrlId;this._setBookmarkLoading("on");spi.util.requestJsonp(this._htAPI.API303,{urlId:b},spi.util.fn(this._onDeleteBookmarkData,this).bind())};this._onDeleteBookmarkData=function(d){var c=spi.util.toJson(d);this._setBookmarkLoading("off");if(c&&c.bookmarkDelete){var b=c.bookmarkDelete;if(b.ros==1){this._showBookmarkLayer(this._htElement.bmk_ros)}else{if((b.responseCode==0)||(b.responseCode==1)){}else{this._showBookmarkLayer(this._htElement.bmk_err)}}}else{this._showBookmarkLayer(this._htElement.bmk_err)}};this._setBookmarkLoading=function(f){var b="",l="",d="";var c=this._getElementByClass(this._htElement.spi_area,"_spi_bmk_load");var j=(this._htInitData.style=="standard"?"ico_loading2.gif":"ico_loading.gif");var g=(this._htInitData.barClass?this._htInitData.barClass:"");if(this._htInitData.style=="text"||this._htInitData.style=="community"){if(this._isDisplayOn("bookmark")&&this._isDisplayOn("me")){d="block"}else{d="none"}}b='<img src="http://bookmarkimgs.naver.com/img/'+j+'" width="14" height="14" alt="로딩중" class="loading">북마크<em class="_spi_sep1 '+g+'" style="display:'+d+';"></em>';l='<span class="_spi_btn_bookmark"></span>북마크<em class="_spi_sep1 '+g+'" style="display:'+d+';"></em>';if(f=="on"){c.innerHTML=b}else{c.innerHTML=l}};this._showBookmarkLayer=function(c){var d=this._htElement.bookmark,b=this._htInitData.style;this._closeAllLayer();this._show(c);spi.util.offset(c,spi.util.offset(d).top+d.offsetHeight+3,spi.util.offset(d).left-(this._sAlign=="right"?c.offsetWidth-d.offsetWidth:0))};this._openCopyUrl=function(){var d=navigator.userAgent.toLowerCase().indexOf("gecko")!=-1;var c=navigator.userAgent.toLowerCase().indexOf("msie")!=-1;this._closeAllLayer();if(d){prompt("아래의 URL을 복사(Ctrl+C)하여\n원하는 곳에 붙여넣기(Ctrl+V)하세요.",this._htInitData.source)}else{var f=this._htElement.release_btn,b=this._htElement.cpurl_ok;window.clipboardData.setData("Text",this._htInitData.source);this._show(b);spi.util.offset(b,spi.util.offset(f).top+f.offsetHeight+3,spi.util.offset(f).left+f.offsetWidth-b.offsetWidth)}};this._openMailPopup=function(){this._getLogined(spi.util.fn(this._onPostMail,this).bind())};this._onPostMail=function(g){var c=spi.util.toJson(g);var j="_postMailPopup";var f=this._htFinishLog.mail["key"]+"."+this._htInitData.evkey;var b=this._htFinishLog.mail["baseUrl"];var d=this._htAPI.API501+"?svc="+this._htInitData.mail["srvid"]+"&tmplUrl="+encodeURIComponent(this._htInitData.mail["srvurl"])+"&callbackUrl="+encodeURIComponent(ectrackurl(f,b));if(c.result=="success"&&c.success==true){this._openPopupToCenter(d,j,900,770)}else{this._openLoginForm(d,j,900,770)}};this._openCafePopup=function(){var d=this._htFinishLog.cafe["key"]+"."+this._htInitData.evkey;var b=this._htFinishLog.cafe["baseUrl"];var f="_cafePopup",g="_cafePopupForm";var j=this._htInitData.cafe;var c=document.getElementById(g);if(c==null){c=document.createElement("form");c.id=g;c.target=f;if(this._isNotNull(j.proxyAction)&&this._isNotNull(j.proxyActionUrl)&&j.proxyAction==="on"){c.action=j.proxyActionUrl;c.method="get";this._appendGetParam(c,j.proxyActionUrl)}else{c.action=this._htAPI.API502;c.method="post"}}this._appendChilds(c,[this._createInputElement("hidden","source_type",j.sourceType),this._createInputElement("hidden","title",this._htInitData.title),this._createInputElement("hidden","source_title",j.sourceTitle),this._createInputElement("hidden","source_url",this._htInitData.source),this._createInputElement("hidden","source_contents",j.sourceContents),this._createInputElement("hidden","source_form",j.sourceForm),this._createInputElement("hidden","callbackUrl",ectrackurl(d,b))]);document.body.appendChild(c);this._openPopupToCenter("",f,380,400);this._setFormCharset(c,"euc-kr");c.submit();this._setFormCharset(c,"euc-kr");c.parentNode.removeChild(c)};this._openBlogPopup=function(){var d=this._htFinishLog.blog["key"]+"."+this._htInitData.evkey;var b=this._htFinishLog.blog["baseUrl"];var f="_blogPopup",g="_blogPopupForm";var j=this._htInitData.blog;var c=document.getElementById(g);if(c==null){c=document.createElement("form");c.id=g;c.target=f;if(this._isNotNull(j.proxyAction)&&this._isNotNull(j.proxyActionUrl)&&j.proxyAction==="on"){c.action=j.proxyActionUrl;c.method="get";this._appendGetParam(c,j.proxyActionUrl)}else{c.action=this._htAPI.API503;c.method="post"}}this._appendChilds(c,[this._createInputElement("hidden","blogId",j.blogId),this._createInputElement("hidden","source_type",j.sourceType),this._createInputElement("hidden","title",this._htInitData.title),this._createInputElement("hidden","source_title",j.sourceTitle),this._createInputElement("hidden","source_url",this._htInitData.source),this._createInputElement("hidden","source_contents",j.sourceContents),this._createInputElement("hidden","source_form",j.sourceForm),this._createInputElement("hidden","callbackType","image"),this._createInputElement("hidden","callbackUrl",ectrackurl(d,b))]);document.body.appendChild(c);this._openPopupToCenter("",f,380,400);this._setFormCharset(c,"euc-kr");c.submit();this._setFormCharset(c,"euc-kr");c.parentNode.removeChild(c)};this._openMemoPopup=function(){var b="_memoPostPopup";var c=this._htAPI.API508+"?linkDisplayText="+encodeURIComponent(this._htInitData.title)+"&linkUrl="+encodeURIComponent(this._htInitData.source);this._openPopupToCenter(c,b,540,520)};this._openCalendarPopup=function(){var c="_calendarPostPopup",d="_cakendarPopupForm";var b=document.getElementById(d);if(b==null){b=document.createElement("form");b.id=d;b.target=c;b.method="get";b.action=this._htAPI.API509}this._appendChilds(b,[this._createInputElement("hidden","action","popup"),this._createInputElement("hidden","serviceId","41"),this._createInputElement("hidden","method","popup"),this._createInputElement("hidden","editable","true"),this._createInputElement("hidden","idx","1"),this._createInputElement("hidden","encoded","true"),this._createInputElement("hidden","content",encodeURIComponent(this._htInitData.title)),this._createInputElement("hidden","pageInfo",encodeURIComponent(this._htInitData.title)),this._createInputElement("hidden","pageUrl",this._htInitData.source),this._createInputElement("hidden","origin",document.location.href)]);document.body.appendChild(b);this._openPopupToCenter("",c,540,520,"location=no,resize=no,scrollbars=no,resizable=no");this._setFormCharset(b,"utf-8");b.submit();this._setFormCharset(b,"euc-kr");b.parentNode.removeChild(b)};this._openMe2PostPopup=function(){var b=this._htInitData.me2post;if(b&&this._isNotNull(b.shortUrl)&&b.shortUrl==="off"){this._postMe2day(this._htInitData.source)}else{this._getShortUrl(this._htInitData.source,spi.util.fn(this._onPostMe2day,this).bind())}};this._onPostMe2day=function(c){var b=spi.util.toJson(c);if(b.code=="200"){this._postMe2day(b.result.url)}};this._postMe2day=function(g){var l="",j="_me2postPopup";var f="",c="",m="",b=null;f=this._htInitData.title;f=f.replace(/"/gi,"＂");f=f.replace(/&quot;/gi,"＂");f="＂"+f+"＂:"+g;if(this._isNotNull(this._htInitData.tags)){b=this._htInitData.tags;for(var d=0;d<b.length;d++){if(d!=0){m=m+"+"}m=m+b[d]}}var l=this._htAPI.API504+"?body="+encodeURIComponent(f)+"&tag="+encodeURIComponent(m)+"&svc_type=2&ek="+encodeURIComponent(this._htFinishLog.me2post["key"]+"."+this._htInitData.evkey)+"&ev="+encodeURIComponent(this._htFinishLog.me2post["baseUrl"])+"&redirect_url="+encodeURIComponent(document.location.href);this._openPopupToCenter(l,j,540,520)};this._openFacebookPopup=function(){var b=this._htAPI.API505+"?u="+encodeURIComponent(this._htInitData.source);this._openPopupToCenter(b,"facebookPopup",804,574)};this._openTwitterPopup=function(){this._getShortUrl(this._htInitData.source,spi.util.fn(this._onPostTwitter,this).bind())};this._onPostTwitter=function(d){var f="";f=this._htInitData.title;f=f.replace(/"/gi,"＂");f=f.replace(/&quot;/gi,"＂");var b=spi.util.toJson(d);if(b.code=="200"){var c=this._htAPI.API506+"?text="+encodeURIComponent(f)+"&url="+encodeURIComponent(b.result.url);this._openPopupToCenter(c,"twitterPopup",640,350)}};this._openYozmPopup=function(){var c="",b="";c=this._htInitData.title;c=c.replace(/"/gi,"＂");c=c.replace(/&quot;/gi,"＂");b=this._htAPI.API507+"?prefix="+encodeURIComponent(c)+"&link="+encodeURIComponent(this._htInitData.source);this._openPopupToCenter(b,"yozmPopup",455,330)};this._getSourceUrl=function(b){var c=this._htInitData.source;if(this._isNotNull(this._htInitData[b])&&this._isNotNull(this._htInitData[b]["sourceUrl"])){c=this._htInitData[b]["sourceUrl"]}return c};this._getElementByClass=function(c,b){return me2p.Sizzle("."+b,c)[0]};this._attachEvent=function(d,c,b){if(d.addEventListener){d.addEventListener(c,b,false)}else{if(d.attachEvent){d.attachEvent("on"+c,b)}else{switch(c){case"click":if(d.onclick){d.onclick=b}break;case"mouseover":if(d.onmouseover){d.onmouseover=b}break;case"mouseout":if(d.onmouseover){d.onmouseout=b}break}}}};this._detachEvent=function(c,b){if(c.removeEventListener){c.removeEventListener(b,h,false)}else{if(c.detachEvent){c.detachEvent("on"+b,h)}else{switch(b){case"click":if(c.onclick){c.onclick=null}break;case"mouseover":if(c.onmouseover){c.onmouseover=null}break;case"mouseout":if(c.onmouseout){c.onmouseout=h}break}}}};this._toggle=function(b){if(!b){return}if(b.style.display=="none"){b.style.display="block"}else{b.style.display="none"}};this._hide=function(b){if(!b){return}b.style.display="none"};this._show=function(b){if(!b){return}b.style.display="block"};this._inlineShow=function(b){if(!b){return}b.style.display="inline-block"};this._hasClass=function(b,d){return b.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))};this._addClass=function(b,f){var d="";if(!b.className){b.className=f}else{d=b.className;d+=" ";d+=f;b.className=d}};this._removeClass=function(d,f){if(this._hasClass(d,f)){var b=new RegExp("(\\s|^)"+f+"(\\s|$)");d.className=d.className.replace(b," ")}};this._getRandomId=function(){return String(parseInt(Math.random()*10000000000,10))};this._setFormCharset=function(b,d){if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){b.acceptCharset=d}else{document.charset=d}};this._isNotNull=function(b){return(b==null||b=="undefined"||b=="null")?false:true};this._appendGetParam=function(j,d){var g,f,l,m,b,c;if(d.indexOf("?")>-1){m=d.substring(d.indexOf("?")+1);b=m.split("&");for(g=0;g<b.length;g++){c=b[g].split("=");f=c[0];l=c[1];j.appendChild(this._createInputElement("hidden",f,l))}}};this._appendChilds=function(d,c){if(this._isNotNull(c)){for(var b=0;b<c.length;b++){if(this._isNotNull(c[b])){d.appendChild(c[b])}}}};this._createInputElement=function(c,f,b){var d=null;if(this._isNotNull(b)==true){d=document.createElement("input");d.type=c;d.name=f;d.value=b}return d};this._createInputElementArr=function(d,j,g){var c=[];if(this._isNotNull(g)){try{for(var b=0;b<g.length;b++){c[b]=this._createInputElement(d,j,g[b])}}catch(f){throw f}}return c};this._openPopupToCenter=function(q,r,p,j,d){var f=(navigator.userAgent.indexOf("MSIE")>-1);var b=(navigator.userAgent.indexOf("Chrome")>-1);var g=(screen.width)?(screen.width-p)/2:0;var n=(screen.height)?(screen.height-j)/2:0;var c="height="+j+",width="+p+",top="+n+",left="+g+ +(d?","+d:",location=no,resize=yes,scrollbars=yes,resizable=yes");var l=null;try{l=window.open(q,r,c);if(l&b){if(l.screenX=="undefined"||l.screenX<0){alert("브라우저의 팝업표시가 가능하도록 설정을 변경해 주세요.");return false}}else{if(!l){if(!f){alert("브라우저의 팝업표시가 가능하도록 설정을 변경해 주세요.")}return false}}}catch(m){}return false};this._sendEventLog=function(b,c){try{if(b==="click"&&typeof this._htClickLog[c]!="undefined"){ectrack(this._htClickLog[c]["key"]+"."+this._htInitData.evkey,this._htClickLog[c]["baseUrl"])}else{if(b==="finish"&&typeof this._htFinishLog[c]!="undefined"){ectrack(this._htFinishLog[c]["key"]+"."+this._htInitData.evkey,this._htFinishLog[c]["baseUrl"])}}}catch(d){throw d}};this._getLogined=function(b){spi.util.requestJsonp(this._htAPI.API000,{},b,"callback")};this._getShortUrl=function(b,c){spi.util.requestJsonp(this._htAPI.API101,{svcCode:"0022",url:b},c)};this._openLoginForm=function(f,c,b,d){this._openPopupToCenter("https://nid.naver.com/nidlogin.login?url="+encodeURIComponent(f),c,b,d)};this._redirectLoginPage=function(b){document.location.href="https://nid.naver.com/nidlogin.login?mode=form&url="+encodeURIComponent(b)}}try{if(typeof draw_socialplugin=="function"){draw_socialplugin()}}catch(e){console.log(e)};